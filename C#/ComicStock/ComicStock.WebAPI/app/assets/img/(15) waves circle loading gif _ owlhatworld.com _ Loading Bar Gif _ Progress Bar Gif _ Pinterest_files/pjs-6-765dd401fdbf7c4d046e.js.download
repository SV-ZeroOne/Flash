webpackJsonp([6,147],{93:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){return function(t,n){var r=[];if(!t||!/\S/.test(t)){var a=e&&e.message?e.message:I["default"]._("Required");r.push(a)}var o={errors:r,warnings:[]};return n&&n(o),o}}function o(e){return function(t,n){var r=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");t=t&&t.trim();var a=[];if(t&&!t.match(r)){var o=e&&e.message?e.message:I["default"]._("Not a valid email.");a.push(o)}var s={errors:a,warnings:[]};return n&&n(s),s}}function s(e){return function(t,n){t=t&&t.trim();var r=[];if(t&&!t.match(/^[^0-9].*$/)){var a=e&&e.message?e.message:I["default"]._("Not a valid name.");r.push(a)}var o={errors:r,warnings:[]};return n&&n(o),o}}function i(e){return function(t,n){var r=t.trim();r=x(r);var a=[],o=e&&e.message?e.message:I["default"]._("Not a valid age.");r&&""!==r&&r.length<2&&(o=I["default"]._("Please enter at least two digits."),a.push(o));var s=Math.floor(r);""===r||/^\d+$/.test(r)&&s>0&&300>s||a.push(o);var i={errors:a,warnings:[]};return n&&n(i),i}}function l(e){return function(t,n){t=t&&t.trim();var r=t.replace(/[\(\)\+\-\. ]/g,""),a=/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g,o=[];if(t&&(!t.match(a)||r.length<7)){var s=e&&e.message?e.message:I["default"]._("Not a phone number.");o.push(s)}var i={errors:o,warnings:[]};return n&&n(i),i}}function u(e){return function(t,n){var r=/^\d+$/,a=[];if("number"==typeof t);else if("string"==typeof t&&(t=t&&t.trim(),t=x(t),t&&!t.match(r))){var o=e&&e.message?e.message:I["default"]._("Not a number.");a.push(o)}var s={errors:a,warnings:[]};return n&&n(s),s}}function c(e){return function(t,n){var r=[];if(t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)){var a=e&&e.message?e.message:I["default"]._("Not a valid url.");r.push(a)}var o={errors:r,warnings:[]};return n&&n(o),o}}function p(e){return function(t,n){var r=[];if(t&&!t.match(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i)){var a=e&&e.message?e.message:I["default"]._("Not a valid hex color");r.push(a)}var o={errors:r,warnings:[]};return n&&n(o),o}}function d(e){return function(t,n){var r=[],a={shortPassStr:e&&e.shortPassStr||I["default"]._("Too short"),badPassStyle:e&&e.badPassStyle||I["default"]._("Not proper style"),samePasswordStr:e&&e.samePasswordStr||I["default"]._("Password and username can't match"),blackPassStr:e&&e.blackPassStr||I["default"]._("Please try using a stronger password"),goodPassStr:e&&e.goodPassStr||I["default"]._("Great!"),userid:e&&e.username&&e.username.length?e.username:"",suggestions:e&&e.suggestions},o=(0,R["default"])(t,a,k),s=o.fieldInfo,i=o.score,l=o.suggestions,u=s[s.length-1];if(u){var c=s[0];r.push(c)}var p={errors:r,warnings:[],score:i,suggestions:l};return n&&n(p),p}}function f(e){return function(t,n){var r=e.max||1/0,a=e.min||0,o=e.should_trim||!1,s=void 0,i=[],l=void 0;o&&(t=t&&t.trim());var u=t.length;a>u?(s=O["default"].dangerouslyFormat(I["default"]._("Please enter at least {{ character_count }} characters."),{character_count:a}),l=e&&e.messages&&e.messages.min?e.messages.min:s,i.push(l)):u>r&&(s=O["default"].dangerouslyFormat(I["default"]._("Please enter no more than {{ character_count }} characters."),{character_count:r}),l=e&&e.messages&&e.messages.max?e.messages.max:s,i.push(l));var c={errors:i,warnings:[]};return n&&n(c),c}}function m(e){return function(t,n){var r=e&&e.targetValue,a=[];t!==r&&a.push(e.message);var o={errors:a,warnings:[]};return n&&n(o),o}}function h(e){return function(t,n){t=t&&parseFloat(t);var r=[];t<=e.value&&r.push(e.message);var a={errors:r,warnings:[]};return n&&n(a),a}}function y(e){return function(t,n){t=t&&parseFloat(t);var r=[];t.length&&t<e.value&&r.push(e.message);var a={errors:r,warnings:[]};return n&&n(a),a}}function g(e){return function(t,n){var r=[];isNaN(Date.parse(t))&&r.push(e.message);var a={errors:r,warnings:[]};return n&&n(a),a}}function v(e){return function(t,n){var r=new Date(t),a=e.date,o=[];r&&a instanceof Date&&r.getTime()&&a.getTime()&&a>r&&o.push(e.message);var s={errors:o,warnings:[]};return n&&n(s),s}}function b(e){return function(t,n){var r=[],a=/^[\040-\176]*$/.test(t);a||r.push(e.message);var o={errors:r,warnings:[]};return n&&n(o),o}}function _(e){return function(t,n){var r=/^\d*(\.\d\d?)?$/,a=[];if("number"==typeof t&&(t=t.toString()),t&&!t.match(r)){t=t&&t.trim();var o=e&&e.message?e.message:I["default"]._("Not a valid currency value.");a.push(o)}var s={errors:a,warnings:[]};return n&&n(s),s}}function T(e){return function(t,n){t=t&&t.trim();var r=[],a=new Date(t);if(t&&!a.getTime()){var o=e&&e.message?e.message:I["default"]._("Not a valid date.");r.push(o)}var s={errors:r,warnings:[]};return n&&n(s),s}}function P(e){return function(t,n){t=t&&t.trim();var r=/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/,a=[];if(t&&!t.match(r)){var o=e&&e.message?e.message:I["default"]._("Not a valid time.");a.push(o)}var s={errors:a,warnings:[]};return n&&n(s),s}}function E(e){return function(t,n){var r=[];e.pattern.test(t)||r.push(e.message);var a={errors:r,warnings:[]};return n&&n(a),a}}function C(e,t){var n,r=e.map(function(e){return e(t).errors});return(n=[]).concat.apply(n,r)}t.__esModule=!0,t.Required=a,t.Email=o,t.Name=s,t.Age=i,t.PhoneNumber=l,t.Number=u,t.URL=c,t.HexColor=p,t.Password=d,t.Length=f,t.EqualTo=m,t.GreaterThan=h,t.GreaterThanOrEqualTo=y,t.DateString=g,t.LaterThanOrEqualToDate=v,t.ContainsOnlyAscii=b,t.CurrencyValue=_,t.isDate=T,t.Time=P,t.MatchesRegex=E,t.getErrors=C;var w=n(4),I=r(w),N=n(15),O=r(N),S=n(774),R=r(S),k=["pinterest","password","123456","welcome","ninja","abc123","123456789","12345678","sunshine","princess","qwerty","master","michael","jordan","dragon","soccer","killer","pepper","devil","princess","1234567","iloveyou"],x=function M(e){var t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "};return e=String(e).split(""),e.forEach(function(n,r){var a=t[n];a&&(e[r]=a)}),e.join("")}},137:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}var o=n(11),s=r(o),i=n(142),l=r(i),u=n(50),c=r(u),p=n(1216),d=r(p),f=n(315),m=r(f),h=n(4),y=r(h),g=n(53),v=r(g),b=n(40),_=r(b),T=n(18),P=r(T),E=void 0;Object.assign(a.prototype,l["default"]),Object.assign(a.prototype,{connect:function C(e,t){var n=this;t=Object.assign({},{success:function i(){},error:function l(){},complete:function u(){}},t);var r=null,o=null;e===a.RAKUTEN&&(r=800,o=600),t.rerequest_facebook_email?(0,m["default"])().then(function(e){e.ensureInit(function(e){e.login(function(e){var n=e.authResponse,r=void 0,a=void 0;n&&(r=n.grantedScopes,r&&(r=r.split(",")),a=n.userID);var o=s["default"].find(r,function(e){return"email"===e}),i={id:a};"connected"===e.status&&o?t.success(i):t.error(i),t.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},P["default"])}):(0,d["default"])().then(function(a){var s=a.getWindowOptions(r,o),i=window.open("/connect/"+e+"/","",s);if(!i)return c["default"].showError(y["default"]._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});var l=_["default"].setInterval(function(){i.closed&&(clearInterval(l),n.handleComplete({network:e,error_message:"Window closed."}))},1e3);n.once("connect:"+e,function(e){clearInterval(l),e.error_message?t.error(e):t.success(e),t.complete()})})},complete:function w(e){this.handleComplete(e)},handleComplete:function I(e){var t="connect:"+e.network,n=e.network;if("facebook"===n){var r=e.id;r&&"string"!=typeof r&&(e.error_message="Facebook id must be of string type")}this.trigger(t,e)}}),Object.assign(a,{instance:function N(){return E||(E=new a),E},FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",GPLUS:"gplus",YAHOO:"yahoo",RAKUTEN:"rakuten",MICROSOFT:"microsoft"}),window.addEventListener("message",function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&"social-connect-complete"===e.data.type&&a.instance().complete(e.data)}),e.exports=v["default"].expose("SocialConnect",a)},209:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}var o=n(53),s=r(o),i=n(8),l=r(i),u=n(5),c=r(u),p=n(137),d=r(p),f=n(40),m=r(f),h=n(18),y=r(h),g=1e3,v=110;Object.assign(a.prototype,{handleConnect:function _(e,t,n){if(t&&!y["default"].isLimitedLogin()){var r={success:function(r){var a={network:e,data:r};this._internalConnectNetwork(t,a,n)}.bind(this),error:function o(e){n.error&&n.error(e)},complete:function s(){n.complete&&n.complete()}};this._externalConnectNetwork(e,t,r)}else{var a={network:e};this._internalConnectNetwork(t,a,n)}},updateConnectStatus:function T(){var e=c["default"].create("UserResource",{user_id:y["default"].get("id"),username:y["default"].get("username"),field_set_key:"social_connect"});e.callGet().then(function(e){var t=e.resource_response.data;y["default"].set(t),l["default"].instance.publish("currentUser","socialNetworkUpdated",t)})},_externalConnectNetwork:function P(e,t,n){return t?void d["default"].instance().connect(e,n):void(n.success&&n.success({}))},_internalConnectNetwork:function E(e,t,n){var r=this,a=c["default"].create("UserSocialNetworkResource",t);(e?a.callCreate():a.callDelete()).then(function(e){r.updateConnectStatus(),n.success&&n.success(e)},function(e){n.error&&e instanceof Object&&n.error(e)}).fin(function(){n.complete&&n.complete()})},_getResourceNameForNetworkFriends:function C(e){var t=null;switch(e){case d["default"].FACEBOOK:t="UserFacebookFriendsResource";break;case d["default"].TWITTER:t="UserTwitterFriendsResource";break;case d["default"].GOOGLE:t="UserGmailFriendsResource";break;case d["default"].YAHOO:t="UserYahooFriendsResource";break;case d["default"].MICROSOFT:t="UserMicrosoftFriendsResource";break;default:return}return t},_handleFriendsImported:function w(e,t,n){var r={resource:t,network:e,error:n};l["default"].instance.publish("site","friendImportCompleted",r)},pollForFriends:function I(e,t){var n=this;t=t||{};var r=t.resourceOptions||{},a=this._getResourceNameForNetworkFriends(e);if(a){var o=c["default"].create(a,r);o.callGet({showError:!1}).then(function(){var r=t.success;r&&r(o),n._handleFriendsImported(e,o,null)},function(r){if(r.api_error_code===v)m["default"].setTimeout(function(){n.pollForFriends(e,t)},g);else{var a=t.error;a&&a(),n._handleFriendsImported(e,o,r)}})}}});var b=null;a.instance=function(){return b||(b=new a),b},e.exports=s["default"].expose("SocialNetworkSettingsManager",a)},210:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return function(t){function n(){var e,r,s;a(this,n);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return e=r=o(this,t.call.apply(t,[this].concat(l))),r.state={isHovering:!1},r.handlers={onMouseOver:function c(){return r._setHover(!0)},onMouseLeave:function p(){return r._setHover(!1)}},s=e,o(r,s)}return s(n,t),n.prototype._setHover=function r(e){this.setState({isHovering:e})},n.prototype.render=function i(){return c["default"].createElement(e,l({},this.props,{hoverHandlers:this.handlers,isHovering:this.state.isHovering}))},n}(u.Component)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var u=n(1),c=r(u)},278:function(e,t){"use strict";t.__esModule=!0;var n=/[\- _,.<>:;+=*&@~\/\|!]*$/,r=function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…",a=void 0;if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])a=e.substring(0,t);else{var o=e.lastIndexOf(" ",t);a=e.substring(0,o)}return a=a.replace(n,""),a+r},a=/\s\s+/g,o=function i(e){return e.replace(a," ")};t.smartTruncate=r,t.removeMultipleSpaces=o},548:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=n(1),l=r(i),u=function(e){function t(n,r){a(this,t);var s=o(this,e.call(this,n,r));return s.handleChange=function(e){s.props.onChange&&s.props.onChange.call(s,e.target.value),s.setState({value:e.target.value})},s.state={isFocused:s.props.focused||!1,value:s.props.value},s}return s(t,e),t.prototype.componentDidMount=function n(){this.focusIfNeeded()},t.prototype.componentWillReceiveProps=function r(e){this.setState({isFocused:e.focused,value:e.value})},t.prototype.componentDidUpdate=function i(){this.focusIfNeeded()},t.prototype.focusIfNeeded=function u(){this.state.isFocused&&this._textArea.focus()},t.prototype.select=function c(){this._textArea.select()},t.prototype.render=function p(){var e=this,t=this.props;return l["default"].createElement("textarea",{className:t.className,cols:t.cols,disabled:t.disabled?"disabled":"",id:t.id,name:t.name,onBlur:t.onBlur?t.onBlur.bind(this):null,onChange:this.handleChange,onClick:t.onClick?t.onClick.bind(this):null,onFocus:t.onFocus?t.onFocus.bind(this):null,onKeyUp:t.onKeyUp?t.onKeyUp.bind(this):null,placeholder:t.placeholder,ref:function n(t){e._textArea=t},rows:t.rows,value:this.state.value})},t}(i.Component);t["default"]=u,u.propTypes={className:i.PropTypes.string,cols:i.PropTypes.number,disabled:i.PropTypes.bool,focused:i.PropTypes.bool,id:i.PropTypes.string,name:i.PropTypes.string,onBlur:i.PropTypes.func,onChange:i.PropTypes.func,onClick:i.PropTypes.func,onFocus:i.PropTypes.func,onKeyUp:i.PropTypes.func,placeholder:i.PropTypes.string,rows:i.PropTypes.number,validators:i.PropTypes.arrayOf(i.PropTypes.func),value:i.PropTypes.string},u.defaultProps={validators:[]}},774:function(e,t){"use strict";function n(e){for(var t={},n=0,r=0;r<e.length;r+=1)e.charAt(r)in t||(t[e.charAt(r)]=!0,n+=1);return n}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],a=15,o={justNumsOrSingleCase:-10,hasUpperAndLowerCase:10,hasNumsAndChars:a,hasCharsAndSymbols:a,hasNumsAndSymbols:a,has3numbers:a,has2symbols:a},i=Object.keys(o).reduce(function(n,a){var i=s[a](e),l=o[a],u=i?l:0;return(l>0&&!i||0>l&&i)&&r.push(t[a]),n+u},0);return{score:i+2*e.length+3*n(e),suggestions:r}}function a(e,t,n){var a=r(e,t.suggestions),s=a.score,i={fieldInfo:[t.strongPassStr,t.strongPassStyle,0]};return e?e.length<6?i={fieldInfo:[t.shortPassStr,t.badPassStyle,1],score:0}:t.userid.length>0&&e.toLowerCase()===t.userid.toLowerCase()?i={fieldInfo:[t.samePasswordStr,t.badPassStyle,1],score:0}:n.indexOf(e.toLowerCase())>-1?i={fieldInfo:[t.blackPassStr,t.badPassStyle,1],score:0}:34>s?i={fieldInfo:[t.badPassStr,t.badPassStyle,0]}:68>s&&(i={fieldInfo:[t.goodPassStr,t.goodPassStyle,0]}):i={fieldInfo:[],score:0},o({},a,i)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.scoreAndSuggest=r,t["default"]=a;var s={has3numbers:function i(e){return e.match(/(.*[0-9].*[0-9].*[0-9])/)},has2symbols:function l(e){return e.match(/(.*[!,@,#,$,%,\^,&,*,?,_,~].*[!,@,#,$,%,\^,&,*,?,_,~])/)},hasUpperAndLowerCase:function u(e){return e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)},hasNumsAndChars:function c(e){return e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)},hasNumsAndSymbols:function p(e){return e.match(/([!,@,#,$,%,\^,&,*,?,_,~])/)&&e.match(/([0-9])/)},hasCharsAndSymbols:function d(e){return e.match(/([!,@,#,$,%,\^,&,*,?,_,~])/)&&e.match(/([a-zA-Z])/)},justNumsOrSingleCase:function f(e){return e.match(/^[a-z]+$/)||e.match(/^[A-Z]+$/)||e.match(/^\d+$/)}}},804:function(e,t){"use strict";function n(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function r(e){return{type:"CONVERSATION_HIDE",payload:{id:e}}}function a(e){return{type:"CONVERSATION_OPEN",payload:{id:e}}}function o(e){return{type:"CONVERSATION_CLOSE",payload:{id:e}}}function s(e){return{type:"CONVERSATION_CREATE",payload:e}}function i(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}t.__esModule=!0,t.conversationShow=n,t.conversationHide=r,t.conversationOpen=a,t.conversationClose=o,t.conversationCreate=s,t.conversationDelete=i},869:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=n(1),l=r(i),u=n(7),c=r(u),p=n(6),d=r(p),f=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.handleChange=function(e){r.props.onChange&&r.props.onChange(e.nativeEvent.target.checked)},s=n,o(r,s)}return s(t,e),t.prototype.render=function n(){var e=this.props.i18n,t=void 0,n=this.props.type,r="fancyToggle"===n||"flatToggle"===n;t=(0,c["default"])(this.props.className,"Module","Checkbox",this.props.type,{fancyToggle:"fancyToggle"===n,styledToggle:r||"fancyCheckbox"===n,on:this.props.checked});var a=(0,c["default"])(this.props.className,"Module","Checkbox",{on:this.props.checked});return r?l["default"].createElement("div",{className:t},l["default"].createElement("div",{className:"slider"}),l["default"].createElement("p",{className:"onText status"},e._("Yes")),l["default"].createElement("p",{className:"offText status"},e._("No")),l["default"].createElement("input",{checked:this.props.checked,className:a,id:this.props.id,name:this.props.name,onChange:this.handleChange,type:"checkbox"})):"fancyCheckbox"===this.props.type?l["default"].createElement("div",{className:t},l["default"].createElement("span",{className:"visibleCheck"}),l["default"].createElement("input",{checked:this.props.checked,className:a,id:this.props.id,name:this.props.name,onChange:this.handleChange,type:"checkbox"})):(t=(0,c["default"])(this.props.className,"Module","Checkbox",{on:this.props.checked}),l["default"].createElement("input",{checked:this.props.checked,className:a,id:this.props.id,name:this.props.name,onChange:this.handleChange,type:"checkbox"}))},t}(i.Component);f.propTypes={checked:i.PropTypes.bool,className:i.PropTypes.string,i18n:p.I18nPropType.isRequired,id:i.PropTypes.string,name:i.PropTypes.string,onChange:i.PropTypes.func,type:i.PropTypes.oneOf(["fancyToggle","flatToggle","fancyCheckbox","default"])},f.defaultProps={checked:!1,type:"default"},t["default"]=(0,d["default"])(f)},874:function(e,t){"use strict";function n(e){var t;return t={},t[r]={connected:!!e.facebook_url,url:e.facebook_url},t[o]={connected:e.connected_to_google||!1},t[s]={connected:!!e.gplus_url},t[u]={connected:e.connected_to_microsoft||!1},t[l]={connected:e.connected_to_rakuten||!1},t[a]={connected:!!e.twitter_url,url:e.twitter_url},t[i]={connected:e.connected_to_yahoo||!1},t}t.__esModule=!0,t["default"]=n;var r="facebook",a="twitter",o="google",s="gplus",i="yahoo",l="rakuten",u="microsoft";t.FACEBOOK=r,t.TWITTER=a,t.GOOGLE=o,t.GPLUS=s,t.YAHOO=i,t.RAKUTEN=l,t.MICROSOFT=u},907:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.id,n=e.name,r=e.onChange,a=e.onFocus,o=e.options,i=void 0===o?[]:o,l=e.value;return s["default"].createElement("div",null,s["default"].createElement("select",{className:"Module Select",id:t,name:n,onChange:r,onFocus:a,value:l},i.map(function(e,t){return s["default"].createElement("option",{key:t,value:e.key},e.name)})))}t.__esModule=!0,t["default"]=a;var o=n(1),s=r(o);a.propTypes={id:o.PropTypes.string,name:o.PropTypes.string,onChange:o.PropTypes.func.isRequired,onFocus:o.PropTypes.func,options:o.PropTypes.arrayOf(o.PropTypes.shape({key:o.PropTypes.string.isRequired,name:o.PropTypes.string.isRequired}).isRequired),value:o.PropTypes.string.isRequired}},917:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return P["default"].create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function u(e,t){return P["default"].create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.inviteEmails=l,t.inviteUsers=u;var p=n(1),d=r(p),f=n(1801),m=r(f),h=n(1173),y=r(h),g=n(27),v=r(g),b=n(4),_=r(b),T=n(5),P=r(T),E=n(8),C="board_create",w=function(e){function t(){var n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=s(this,e.call.apply(e,[this].concat(l))),r.state={selectedCollaborators:[]},r.handleSubmit=function(e){var t=P["default"].create("BoardResource",c({},e));return t.callCreate({showError:!1}).then(function(e){v["default"].trackEvent(C,"success");var t=e.resource_response.data;t&&(r.inviteSelectedColaborators(t.id),E.instance.publish("currentUser","boardCreated",t)),r.props.onBoardCreate(t)})["catch"](function(e){throw v["default"].trackEvent(C,"error"),e.message})},r.handleSelectedCollaboratorsChange=function(e){r.setState({selectedCollaborators:e})},r.emptyBoardData={collab_board_email:!0,collaborator_invites_enabled:!0,id:"",is_collaborative:!1,name:void 0,description:"",category:"other",owner:{username:r.props.currentUser.username},pin_count:0},a=n,s(r,a)}return i(t,e),t.prototype.inviteSelectedColaborators=function n(e){var t=this.state.selectedCollaborators.filter(function(e){var t=e.type;return"email"===t});t.length>=1&&l(e,t.map(function(e){var t=e.type;return t}));var n=this.state.selectedCollaborators.filter(function(e){var t=e.type;return t.startsWith("user")});n.length>=1&&u(e,n.map(function(e){var t=e.id;return t}))},t.prototype.render=function r(){var e=this.props,t=e.privacy,n=a(e,["privacy"]),r=d["default"].createElement("div",null,d["default"].createElement("div",{className:"boardEditCollaborators"},d["default"].createElement(m["default"],{onSelectedCollaboratorsChange:this.handleSelectedCollaboratorsChange,user:this.props.currentUser})));return d["default"].createElement(y["default"],c({},n,{board:c({},this.emptyBoardData,{privacy:t}),boardCollaboratorsSection:r,currentUserIsOwner:!0,gaCategory:C,isDeletable:!1,isEditable:!0,onSubmit:this.handleSubmit,submitText:_["default"]._("Create"),title:_["default"]._("Create board")}))},t}(p.Component);w.propTypes={categories:p.PropTypes.arrayOf(p.PropTypes.shape({key:p.PropTypes.string.isRequired,name:p.PropTypes.string.isRequired})).isRequired,currentUser:p.PropTypes.shape({connected_to_google:p.PropTypes.bool,connected_to_yahoo:p.PropTypes.bool,email:p.PropTypes.string,facebook_url:p.PropTypes.string,twitter_url:p.PropTypes.string,username:p.PropTypes.string}).isRequired,onBoardCreate:p.PropTypes.func.isRequired,privacy:p.PropTypes.oneOf(["public","secret"]).isRequired},t["default"]=w},1049:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=n(1),l=r(i),u=n(3671),c=r(u),p=n(3678),d=r(p),f=n(651),m=r(f),h=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.shouldComponentUpdate=function n(e,t){return this.props.currentPanel!==e.currentPanel||this.props.conversationsUnseenCount!==e.conversationsUnseenCount||this.props.newsHubCount!==e.newsHubCount},t.prototype.render=function r(){var e=this.props,t=e.conversationsUnseenCount,n=e.currentPanel,r=e.handleItemClick,a=e.locale,o=e.newsHubCount,s=e.onButtonClick,i=void 0;return n===f.TAB_INDICES.NEWS_HUB?i=l["default"].createElement(d["default"],{handleItemClick:r,locale:a}):n===f.TAB_INDICES.INBOX&&(i=l["default"].createElement(c["default"],null)),l["default"].createElement("div",{className:"newsConversationsDropdown"},l["default"].createElement(m["default"],{conversationsUnseenCount:t,newsHubCount:o,onButtonClick:s,selectedTab:n}),l["default"].createElement("div",{className:"content"},i))},t}(i.Component);t["default"]=h,h.propTypes={conversationsUnseenCount:i.PropTypes.number.isRequired,currentPanel:i.PropTypes.number.isRequired,handleItemClick:i.PropTypes.func,locale:i.PropTypes.string.isRequired,newsHubCount:i.PropTypes.number.isRequired,onButtonClick:i.PropTypes.func.isRequired}},1063:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.SocialTypeahead=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(1),u=r(l),c=n(17),p=n(1810),d=r(p),f=n(7),m=r(f),h=n(874),y=r(h),g=n(4),v=r(g),b=n(1172),_=r(b),T=n(1804),P=r(T),E=n(1312),C=r(E),w=n(137),I=r(w),N=n(88),O=r(N),S=n(292),R=r(S),k=n(20),x=r(k),M=n(8),q=n(15),B=n(917),H=[I["default"].FACEBOOK,I["default"].TWITTER,I["default"].GPLUS,I["default"].YAHOO],j=t.SocialTypeahead=function(e){function t(){var n,r,s;a(this,t);for(var l=arguments.length,c=Array(l),p=0;l>p;p++)c[p]=arguments[p];return n=r=o(this,e.call.apply(e,[this].concat(c))),r.state={networks:(0,y["default"])(r.props.viewer),open:!1,typeaheadSuggestions:[]},r.onUserInviteClick=function(e){var t=e.id,n=r.props,a=n.boardId,o=n.onInviteItemClick;a?o((0,B.inviteUsers)(a,[t])):o(!0,e)},r.handleBodyClick=function(e){r._results.contains(e.target)||r.setState({open:!1})},r.handleTypeaheadSuggestionsChange=function(e){var t=r.props.viewer;r.setState({typeaheadSuggestions:(0,d["default"])(e,function(e){return e.id!==t.id})})},r.handleOnEmailInviteClick=function(){var e=r.props,t=e.boardId,n=e.onInviteItemClick,a=e.value;t?n((0,B.inviteEmails)(t,[a])):n(!1,a)},r.subscriber=M.instance.subscribe("currentUser","socialNetworkUpdated",function(e,t,n){r.setState({networks:(0,y["default"])(n)})}),r.logTypeaheadInput=function(e){var t=r.props.contextLog;t(4113,{component:13029,element:1043,entered_query:e})},r.logSearchContactItemClick=function(e){var t=r.props,n=t.contextLog,a=t.value;n(101,{component:13029,element:1044,entered_query:a,result_index:e})},r.renderResultItems=function(){var e=r.props.changeOnTextHover,t=(0,m["default"])("Typeahead","userSelect",{open:r.state.open}),n=r.state.typeaheadSuggestions.map(function(t,n){return u["default"].createElement(P["default"],i({currentUser:r.props.currentUser,key:n,onClick:function a(){r.onUserInviteClick(t),r.logSearchContactItemClick(n)},onHoverEnd:function o(){return e?r.restoreTextFieldValue():null},onHoverStart:function s(){return e?r.forceTextFieldValue(t.label):null}},t))}).concat(r.getStaticItems()).map(function(e,t){return u["default"].createElement("li",{key:t,role:"button",tabIndex:"0"},e)});return u["default"].createElement("div",{className:t,ref:function a(e){r._results=e},style:{zIndex:1e3}},u["default"].createElement("ul",null,n),r.props.inBoardCollaboratorInviter?u["default"].createElement("div",{className:"footer white"}):null)},s=n,o(r,s)}return s(t,e),t.prototype.componentDidMount=function n(){var e=this;["mousedown","touchstart"].forEach(function(t){document.addEventListener(t,e.handleBodyClick)})},t.prototype.componentWillReceiveProps=function r(e){var t=e.value;this.setState({open:t.length>0})},t.prototype.componentWillUnmount=function l(){var e=this;["mousedown","touchstart"].forEach(function(t){document.removeEventListener(t,e.handleBodyClick)}),this.subscriber.unsubscribe()},t.prototype.getStaticItems=function c(){return[].concat(this.getEmailItems(),this.getSocialItems(this.state.networks))},t.prototype.getEmailItems=function p(){var e=this.props.value;return[u["default"].createElement(_["default"],{email:e,isValid:(0,q.isEmailAddress)(e),key:"send-to-email-component",onClick:this.handleOnEmailInviteClick,showSendEmailText:!1})]},t.prototype.getSocialItems=function f(e){var t=Object.keys(e).filter(function(e){return H.includes(e)}).filter(function(t){return e[t].connected===!1});return t.map(function(e,t){return u["default"].createElement(C["default"],{key:"socialConnect-"+e,network:e})})},t.prototype.forceTextFieldValue=function h(e){this.previousValue=this.props.value,this.props.onChange(e)},t.prototype.restoreTextFieldValue=function g(){this.props.onChange(this.previousValue),delete this.previousValue},t.prototype.render=function b(){var e=this,t=this.props,n=t.boardId,r=t.className,a=t.inBoardCollaboratorInviter,o=t.onChange,s=t.onKeyDown,i=t.showInputPlaceholder,l=t.value,c=(0,m["default"])("Input","field",{reactCollaboratorInviterTypeaheadCustom:a},{collaboratorInviterTypeahead:!a}),p=n?{board:n}:null;return u["default"].createElement(R["default"],{
className:(0,m["default"])(r,"reactSocialTypeahead"),onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:p,value:l},u["default"].createElement("div",null,u["default"].createElement("div",{className:"TypeaheadField userSelect inputContainer"},u["default"].createElement(O["default"],{className:c,onChange:function d(t){o(t),e.logTypeaheadInput(t)},onKeyDown:s,placeholder:i?v["default"]._("Name or email","search"):null,value:l})),this.renderResultItems()))},t}(l.Component);j.propTypes={boardId:l.PropTypes.string,changeOnTextHover:l.PropTypes.bool,className:l.PropTypes.string,contextLog:l.PropTypes.func.isRequired,currentUser:l.PropTypes.shape({full_name:l.PropTypes.string,id:l.PropTypes.string.isRequired}),inBoardCollaboratorInviter:l.PropTypes.bool,onChange:l.PropTypes.func.isRequired,onInviteItemClick:l.PropTypes.func.isRequired,onKeyDown:l.PropTypes.func,showInputPlaceholder:l.PropTypes.bool,value:l.PropTypes.string,viewer:l.PropTypes.shape({connected_to_google:l.PropTypes.bool,connected_to_microsoft:l.PropTypes.bool,connected_to_yahoo:l.PropTypes.bool,facebook_url:l.PropTypes.string,full_name:l.PropTypes.string,id:l.PropTypes.string,gplus_url:l.PropTypes.string,twitter_url:l.PropTypes.string})},j.defaultProps={changeOnTextHover:!1,onKeyDown:function A(){},showInputPlaceholder:!0};var D=function W(e){var t=e.viewer;return{viewer:t}};t["default"]=(0,x["default"])((0,c.connect)(D)(j))},1171:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.body,n=void 0===t?"":t,r=e.img,a=e.onClick,o=e.selected,s=e.title,i=(0,c["default"])("ImageBlock","sendShareUserContact","selectable",{selected:o});return l["default"].createElement("div",{className:i,onClick:a,role:"button"},l["default"].createElement("div",{className:"left circle imageSize_sendShare"},r),l["default"].createElement("div",{className:"right"},l["default"].createElement("h4",{className:"imageBlockContentTitle"},s),l["default"].createElement("div",{className:"imageBlockContentBody"},l["default"].createElement("span",null,n))))}function o(e,t,n){if("user_share_suggestion"===e.type||"user"===e.type){var r=l["default"].createElement("img",{alt:e.title,src:e.image_small_url});return l["default"].createElement(a,{img:r,onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return n(e)}),selected:t,title:e.full_name})}if("email"===e.type){var o=function(){var r=e.address,o=e.valid,s=o?l["default"].createElement("span",{className:"icon"},r[0].toUpperCase()):l["default"].createElement("span",{className:"icon typingEmail"},l["default"].createElement("em",null)),i=(0,f.dangerouslyFormat)(d["default"]._("Email {{ email }}"),{email:r}),u=o?d["default"]._("Click to send!"):d["default"]._("Keep typing!");return{v:l["default"].createElement(a,{body:u,img:s,onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return o?n(e):void 0}),selected:t,title:i})}}();if("object"===("undefined"==typeof o?"undefined":s(o)))return o.v}}t.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=a,t.makeContact=o;var i=n(1),l=r(i),u=n(7),c=r(u),p=n(4),d=r(p),f=n(15)},1172:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.email,n=e.isValid,r=e.onClick,a=e.showSendEmailText,o=n?s["default"].createElement("div",{className:"icon"},t[0].toUpperCase()):s["default"].createElement("div",{className:(0,l["default"])("icon","typingEmail")},s["default"].createElement("em",null)),i=n?c["default"]._("Click to send!"):c["default"]._("Keep typing!"),u=a?(0,p.safeFormat)(c["default"]._("Email {{ email }}"),{email:t}):(0,p.safeFormat)(c["default"]._("Invite {{ email }}"),{email:t});return s["default"].createElement("div",{className:(0,l["default"])("sendToEmail",{unclickable:!n})},s["default"].createElement("a",{className:"selectableEmailItem",onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){n&&r()}),role:"button"},s["default"].createElement("div",{className:"left"},o),s["default"].createElement("div",{className:"right"},s["default"].createElement("h4",{className:"title"},u),s["default"].createElement("p",{className:"subtitle"},i))))}t.__esModule=!0,t["default"]=a;var o=n(1),s=r(o),i=n(7),l=r(i),u=n(4),c=r(u),p=n(15);a.propTypes={email:o.PropTypes.string.isRequired,isValid:o.PropTypes.bool.isRequired,onClick:o.PropTypes.func.isRequired,showSendEmailText:o.PropTypes.bool.isRequired}},1173:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=a(c),d=n(93),f=r(d),m=n(1805),h=a(m),y=n(14),g=a(y),v=n(869),b=a(v),_=n(9),T=a(_),P=n(7),E=a(P),C=n(27),w=a(C),I=n(4),N=a(I),O=n(29),S=a(O),R=n(907),k=a(R),x=n(548),M=a(x),q=n(88),B=a(q),H=function(e){function t(n){o(this,t);var r=s(this,e.call(this,n));return r.handleChangeName=function(e){var t=f.getErrors(r.nameValidators,e),n=null;r.setState({name:e,nameValidatorErrors:t,submitError:n})},r.handleChangeDescription=function(e){var t=f.getErrors(r.descriptionValidators,e);r.setState({description:e,descriptionValidatorErrors:t})},r.handleChangeCategory=function(e){var t=e.target.value;r.setState({category:t})},r.handleChangePrivateToggle=function(e){r.setState({privacy:e?"secret":"public"})},r.handleChangeCollabBoardEmail=function(e){r.setState({collab_board_email:e})},r.handleChangeCollaboratorInvitesEnabled=function(e){r.setState({collaborator_invites_enabled:e})},r.handleCancel=function(){w["default"].trackEvent(r.props.gaCategory,"click_cancel"),r.props.onClose()},r.handleSubmit=function(e){e&&e.preventDefault(),r.submitDisabled()||(r.setState({saving:!0}),w["default"].trackEvent(r.props.gaCategory,"click_submit"),r.props.onSubmit(r.fieldValues)["catch"](function(e){"string"!=typeof e&&(e=N["default"]._("Uh oh! Something went wrong.")),r.setState({saving:!1,submitError:e})}))},r.handleDelete=function(){r.setState({deleting:!0}),r.props.onDeleteButtonClick()},r.handleShowBoardCoverEditModal=function(){r.setState({showBoardCoverEdit:!0})},r.handleHideBoardCoverEditModal=function(){r.setState({showBoardCoverEdit:!1})},r.handleSaveBoardCoverEditModal=function(){var e;r.handleHideBoardCoverEditModal(),(e=r.props).onCropChange.apply(e,arguments)},r.state=l({},n.board,{deleting:!1,nameValidatorErrors:[],descriptionValidatorErrors:[],saving:!1,showBoardCoverEdit:!1,showDeleteConfirmation:!1,submitError:null}),r.descriptionValidators=[f.Length({max:T["default"].MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION})],r.nameValidators=[f.Required({message:N["default"]._("Don't forget to name your board!")}),f.Length({max:T["default"].MAX_CHARS_FOR_BOARD_TITLE})],r}return i(t,e),t.prototype.getBoardTitleInput=function n(){var e=this.state,t=e.name,n=e.nameValidatorErrors;return p["default"].createElement("li",null,p["default"].createElement("h3",null,p["default"].createElement("label",{className:(0,E["default"])({hasError:n.length>0}),htmlFor:"boardEditName"},N["default"]._("Name"))),p["default"].createElement("div",null,p["default"].createElement(B["default"],{className:"boardEditName "+(n.length>0?"hasError":""),id:"boardEditName",name:"boardName",onChange:this.handleChangeName,placeholder:N["default"]._('Like "Places to Go" or "Recipes to Make."'),type:"text",value:t}),n.map(function(e,t){return p["default"].createElement("p",{className:(0,E["default"])("formFieldMessage","formErrorMessage"),key:t},e)})))},t.prototype.getCategoriesDropdown=function r(){var e=this.props.categories,t={key:"other",name:N["default"]._("What kind of board is it?")},n=[t].concat(e),r=this.state.category||"";return p["default"].createElement("li",{className:"categoryWrapper"},p["default"].createElement("h3",null,p["default"].createElement("label",{htmlFor:"boardEditCategory"},N["default"]._("Category"))),p["default"].createElement("div",null,p["default"].createElement(k["default"],{id:"boardEditCategory",name:"category",onChange:this.handleChangeCategory,options:n,value:r})))},t.prototype.getCollaboratorsEmailCheckbox=function a(){var e=this.props.board,t=this.state.collab_board_email;return e.is_collaborative?p["default"].createElement("li",null,p["default"].createElement("h3",null,p["default"].createElement("label",null,N["default"]._("Email notifications"))),p["default"].createElement("div",null,p["default"].createElement("label",null,p["default"].createElement(b["default"],{checked:t,id:"emailCheckbox",name:"email",onChange:this.handleChangeCollabBoardEmail,type:"fancyToggle"})),p["default"].createElement("span",{className:"learnMore"},N["default"]._("Get an email when someone saves Pins to this board")))):null},t.prototype.getCollaboratorsInviteList=function c(){var e=this.props,t=e.boardCollaboratorsSection,n=e.showCollaboratorsLearnMore;return p["default"].createElement("li",{className:"boardCollaboratorsWrapper"},p["default"].createElement("h3",null,p["default"].createElement("label",null,N["default"]._("Collaborators")),n?p["default"].createElement("a",{className:(0,E["default"])("external","learnMore","learnAboutBoardInvites"),href:T["default"].GEN.templateConst.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE},N["default"]._("Learn more")):null),p["default"].createElement("div",{className:"fieldWrapper"},t))},t.prototype.getCollaboratorsInviteToggle=function d(){var e=this.props.board,t=this.state.collaborator_invites_enabled;return e.is_collaborative?p["default"].createElement("li",{className:"collaboratorInvitesEnabledToggleWrapper"},p["default"].createElement("h3",null,p["default"].createElement("label",{htmlFor:"place"},N["default"]._("Let collaborators add people"))),p["default"].createElement("div",null,p["default"].createElement("label",null,p["default"].createElement(b["default"],{checked:t,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:this.handleChangeCollaboratorInvitesEnabled,type:"fancyToggle"})))):null},t.prototype.getCoverEdit=function m(){var e=this.props,t=e.coverImageHeight,n=e.coverImageWidth,r=e.isEditable,a=this.state,o=a.id,s=a.name,i=a.pin_count,l=r&&i>0;return l?p["default"].createElement("li",{className:"boardEditCover"},p["default"].createElement("h3",null,N["default"]._("Cover")),p["default"].createElement("div",null,p["default"].createElement(g["default"],{className:"boardCoverEditButton",onClick:this.handleShowBoardCoverEditModal,rounded:!0,text:N["default"]._("Change")}),this.state.showBoardCoverEdit?p["default"].createElement(S["default"],{onHide:this.handleHideBoardCoverEditModal},p["default"].createElement(h["default"],{boardId:o,boardName:s,frameHeight:t,frameWidth:n,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})):null)):null},t.prototype.getDescriptionInput=function y(){var e=this.state,t=e.description,n=e.descriptionValidatorErrors;return p["default"].createElement("li",{className:"descriptionWrapper"},p["default"].createElement("h3",null,p["default"].createElement("label",{className:(0,E["default"])({hasError:n.length>0}),htmlFor:"boardEditDescription"},N["default"]._("Description"))),p["default"].createElement("div",null,p["default"].createElement(M["default"],{className:(0,E["default"])("boardEditDescription",{hasError:n.length>0}),id:"boardEditDescription",name:"description",onChange:this.handleChangeDescription,placeholder:N["default"]._("What's your board about?"),value:t}),n.map(function(e,t){return p["default"].createElement("p",{className:(0,E["default"])("formFieldMessage","formErrorMessage"),key:t},e)})))},t.prototype.getFormFooter=function v(){var e=this.state,t=e.deleting,n=e.saving,r=e.submitError,a=this.props,o=a.isDeletable,s=a.submitText;return p["default"].createElement("div",{className:"formFooter"},o?p["default"].createElement("div",{className:"formFooterDelete"},p["default"].createElement(g["default"],{className:"deleteBoardButton",id:"deleteBoardButton",loading:t,onClick:this.handleDelete,text:N["default"]._("Delete board")})):null,r?p["default"].createElement("span",{className:"formFieldMessage",style:{lineHeight:"30px"}},r):null,p["default"].createElement("div",{className:"formFooterButtons"},p["default"].createElement(g["default"],{className:"cancelButton",id:"cancelButton",onClick:this.handleCancel,text:N["default"]._("Cancel")}),p["default"].createElement(g["default"],{className:"saveBoardButton",disabled:this.submitDisabled(),id:"submitButton",loading:n,onClick:this.handleSubmit,text:s,type:"primary"})))},t.prototype.getSecretToggle=function _(){var e=this.props.showSecretBoardsLearnMore,t=this.state.privacy;return p["default"].createElement("li",{className:"secretToggleWrapper"},p["default"].createElement("h3",null,p["default"].createElement("label",{htmlFor:"secret"},N["default"]._("Secret")),e?p["default"].createElement("a",{className:(0,E["default"])("external","learnMore","learnAboutBoardInvites"),href:T["default"].GEN.templateConst.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE},N["default"]._("Learn more")):null),p["default"].createElement("div",null,p["default"].createElement("label",null,p["default"].createElement(b["default"],{checked:"protected"===t||"secret"===t,id:"secret",name:"secret",onChange:this.handleChangePrivateToggle,type:"fancyToggle"}))))},t.prototype.getBoardFormFields=function P(){var e=this.props,t=e.currentUserIsOwner,n=e.isNameAndSecretView;return t?n?p["default"].createElement("ul",null,this.getBoardTitleInput(),this.getSecretToggle()):p["default"].createElement("ul",null,this.getBoardTitleInput(),this.getDescriptionInput(),this.getCategoriesDropdown(),this.getCoverEdit(),this.getSecretToggle(),this.getCollaboratorsInviteList(),this.getCollaboratorsEmailCheckbox(),this.getCollaboratorsInviteToggle()):p["default"].createElement("ul",null,this.getCollaboratorsInviteList(),this.getCollaboratorsEmailCheckbox())},t.prototype.submitDisabled=function C(){var e=this.state,t=e.descriptionValidatorErrors,n=e.name,r=e.nameValidatorErrors,a=e.submitError;return a&&a.length>0||!n||r.length>0||t.length>0},t.prototype.render=function I(){return p["default"].createElement("form",{className:"standardForm",method:"post",onSubmit:this.handleSubmit},p["default"].createElement("h1",null,this.props.title),this.getBoardFormFields(),this.getFormFooter())},u(t,[{key:"fieldValues",get:function O(){return{name:this.state.name,description:this.state.description,category:this.state.category,privacy:this.state.privacy,collab_board_email:this.state.collab_board_email,collaborator_invites_enabled:this.state.collaborator_invites_enabled}}}]),t}(c.Component);H.propTypes={board:c.PropTypes.shape({name:c.PropTypes.string,description:c.PropTypes.string.isRequired,id:c.PropTypes.string.isRequired,owner:c.PropTypes.shape({username:c.PropTypes.string.isRequired}).isRequired,pin_count:c.PropTypes.number.isRequired,privacy:c.PropTypes.oneOf(["public","protected","secret"]).isRequired,category:c.PropTypes.string,is_collaborative:c.PropTypes.bool.isRequired,collab_board_email:c.PropTypes.bool,collaborator_invites_enabled:c.PropTypes.bool.isRequired}).isRequired,boardCollaboratorsSection:c.PropTypes.node.isRequired,categories:c.PropTypes.arrayOf(c.PropTypes.shape({key:c.PropTypes.string.isRequired,name:c.PropTypes.string.isRequired})).isRequired,coverImageHeight:c.PropTypes.number,coverImageWidth:c.PropTypes.number,currentUserIsOwner:c.PropTypes.bool.isRequired,gaCategory:c.PropTypes.string.isRequired,isDeletable:c.PropTypes.bool.isRequired,isEditable:c.PropTypes.bool.isRequired,isNameAndSecretView:c.PropTypes.bool,onClose:c.PropTypes.func.isRequired,onCropChange:c.PropTypes.func,onDeleteButtonClick:c.PropTypes.func,onSubmit:c.PropTypes.func.isRequired,showCollaboratorsLearnMore:c.PropTypes.bool.isRequired,showSecretBoardsLearnMore:c.PropTypes.bool.isRequired,submitText:c.PropTypes.string.isRequired,title:c.PropTypes.node.isRequired},H.defaultProps={isNameAndSecretView:!1,showCollaboratorsLearnMore:!0,showSecretBoardsLearnMore:!0},t["default"]=H},1216:function(e,t,n){e.exports=function(){return new Promise(function(e){n.e(78,function(t){e(n(300))})})}},1312:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){f["default"].instance().handleConnect(e,!0,{})}function o(e){var t,n=e.network,r=(t={},t[m.FACEBOOK]=p["default"]._("Find friends from Facebook"),t[m.GPLUS]=p["default"]._("Find friends from Google+"),t[m.TWITTER]=p["default"]._("Find friends from Twitter"),t[m.YAHOO]=p["default"]._("Find friends from Yahoo"),t);return i["default"].createElement("div",{className:"socialConnect"},i["default"].createElement("a",{onClick:function o(){return a(n)},role:"button"},i["default"].createElement("div",{className:"left"},i["default"].createElement("div",{className:(0,u["default"])("icon","socialConnect-"+n)},i["default"].createElement("em",null))),i["default"].createElement("div",{className:"right"},i["default"].createElement("h4",{className:"title"},r[n]))))}t.__esModule=!0,t["default"]=o;var s=n(1),i=r(s),l=n(7),u=r(l),c=n(4),p=r(c),d=n(209),f=r(d),m=n(137);o.propTypes={network:s.PropTypes.oneOf([m.FACEBOOK,m.GPLUS,m.TWITTER,m.YAHOO]).isRequired}},1801:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n){var r=e.id;return t===n.findIndex(function(e){return e.id===r})}t.__esModule=!0;var l=n(1),u=r(l),c=n(4),p=r(c),d=n(1802),f=r(d),m=n(1803),h=r(m),y=n(88),g=r(y),v=n(292),b=r(v),_=n(22),T=r(_),P=n(15),E=n(1171),C=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.state={selectedCollaborators:[],showSocialConnectPanel:!1,typeaheadSuggestions:[],value:""},r.handleTextFieldChange=function(e){r.setState({value:e})},r.handleCloseSocialConnectPanel=function(){r.setState({showSocialConnectPanel:!1})},r.handleCollaboratorClick=function(e){var t=e.id;r.isIdSelected[t]=!r.isIdSelected[t];var n=r.state.selectedCollaborators,a=n.concat([e]);r.props.onSelectedCollaboratorsChange(a.filter(function(e){var t=e.id;return r.isIdSelected[t]})),r.setState({selectedCollaborators:a})},r.handleShowSocialConnectPanel=function(){r.setState({showSocialConnectPanel:!0})},r.handleTypeaheadSuggestionsChange=function(e){r.setState({typeaheadSuggestions:e})},r.isIdSelected={},s=n,o(r,s)}return s(t,e),t.prototype.render=function n(){var e=this;if(this.state.showSocialConnectPanel)return u["default"].createElement(h["default"],{onClose:this.handleCloseSocialConnectPanel,user:this.props.user});var t=this.state.value,n=""===t?this.props.shareSuggestions:this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:"email-"+t,address:t,valid:(0,P.isEmailAddress)(t)}).concat(this.props.shareSuggestions).filter(i),r=n.map(function(t,n){return(0,E.makeContact)(t,e.isIdSelected[t.id],e.handleCollaboratorClick)}).concat(u["default"].createElement(f["default"],{message:""===t?p["default"]._("Choose from contacts"):p["default"]._("Find people you know"),onClick:this.handleShowSocialConnectPanel})).map(function(e,t){return u["default"].createElement("li",{key:t},e)});return u["default"].createElement(b["default"],{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:t},u["default"].createElement(g["default"],{onChange:this.handleTextFieldChange,placeholder:p["default"]._("Name or email"),value:t}),u["default"].createElement("div",{className:"ContactsList Typeahead sendShare fullWidth flexible compact open"},u["default"].createElement("ul",{className:"results"},r)))},t}(l.Component);C.propTypes={onSelectedCollaboratorsChange:l.PropTypes.func.isRequired,resourceLoaded:l.PropTypes.bool.isRequired,shareSuggestions:l.PropTypes.arrayOf(l.PropTypes.shape({id:l.PropTypes.string})).isRequired,user:l.PropTypes.shape({connected_to_google:l.PropTypes.bool,connected_to_yahoo:l.PropTypes.bool,email:l.PropTypes.string,facebook_url:l.PropTypes.string,twitter_url:l.PropTypes.string})},C.defaultProps={shareSuggestions:[]},t["default"]=(0,T["default"])({name:"ShareSuggestionsResource",key:"shareSuggestions"})(C)},1802:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){return s["default"].createElement(l["default"],{img:s["default"].createElement("em",{className:"icon socialConnectCta"}),onClick:e.onClick,selected:!1,title:e.message})}t.__esModule=!0,t["default"]=a;var o=n(1),s=r(o),i=n(1171),l=r(i)},1803:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){v["default"].instance().handleConnect(e,!0,{})}function o(e){return e===b.FACEBOOK?y["default"]._("Facebook"):e===b.TWITTER?y["default"]._("Twitter"):e===b.GOOGLE?y["default"]._("Google"):e===b.YAHOO?y["default"]._("Yahoo"):y["default"]._("Other")}function s(e,t){if(e===b.FACEBOOK)return y["default"]._("Friends who are on Pinterest");if(e===b.GOOGLE){if(t&&-1!==t.indexOf("@gmail"))return t}else if(e===b.YAHOO&&t&&-1!==t.indexOf("@yahoo"))return t;return null}function i(e){var t=(0,d["default"])("SocialNetworkConnectButton","listItem","sendShare",e.network),n=s(e.network,e.email);return c["default"].createElement("a",{onClick:e.onClick,role:"button"},c["default"].createElement("div",{className:t},c["default"].createElement("em",{className:"icon"}),c["default"].createElement("div",{className:"networkInfo"},c["default"].createElement("h4",{className:"title"},o(e.network)),n?c["default"].createElement("div",{className:"subtitle"},n):null)))}function l(e){var t=(0,m["default"])(e.user),n=_.filter(function(e){return t[e].connected===!1});return c["default"].createElement("div",{className:"SocialConnectPanel fullWidth compact sendShare"},c["default"].createElement("div",{className:"header"},c["default"].createElement("div",{className:"backNav"},c["default"].createElement("a",{onClick:e.onClose,role:"button"},c["default"].createElement("span",{className:"icon"}),c["default"].createElement("span",{className:"label"},y["default"]._("Back")))),c["default"].createElement("div",{className:"prompt"},y["default"]._("Upload contacts from..."))),c["default"].createElement("ul",{className:"socialConnectOptions"},n.map(function(t){return c["default"].createElement("li",{key:t},c["default"].createElement(i,{email:e.user.email,network:t,onClick:function n(){return a(t)}}))})))}t.__esModule=!0,t["default"]=l;var u=n(1),c=r(u),p=n(7),d=r(p),f=n(874),m=r(f),h=n(4),y=r(h),g=n(209),v=r(g),b=n(137),_=[b.FACEBOOK,b.TWITTER,b.GOOGLE,b.YAHOO]},1804:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(1),u=r(l),c=n(7),p=r(c),d=n(210),f=r(d),m=n(4),h=r(m),y=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.componentWillReceiveProps=function n(e){!this.props.isHovering&&e.isHovering?this.props.onHoverStart():this.props.isHovering&&!e.isHovering&&this.props.onHoverEnd()},t.prototype.render=function r(){var e=this.props,t=e.is_pinner?h["default"]._("On Pinterest"):e.email?e.email:"facebook_non_pinner"===e.type?h["default"]._("Facebook"):"gplus_non_pinner"===e.type?h["default"]._("Google"):h["default"]._("Enter an email address");return u["default"].createElement("a",i({},this.props.hoverHandlers,{onClick:this.props.onClick,role:"button"}),e.send_pin_image?u["default"].createElement("span",{className:"typeaheadImg"},u["default"].createElement("img",{alt:"",src:e.send_pin_image})):null,u["default"].createElement("p",{className:(0,p["default"])("typeaheadName",{hasImage:e.send_pin_image})},e.label),u["default"].createElement("div",{className:"titleWrapper"},u["default"].createElement("i",{className:(0,p["default"])("titleIcon",{isPinner:e.is_pinner},{isFacebook:"facebook_non_pinner"===e.type},{isGplus:"gplus_non_pinner"===e.type})}),u["default"].createElement("p",{className:"title"},t)))},t}(l.Component);y.propTypes={email:l.PropTypes.bool,hoverHandlers:l.PropTypes.objectOf(l.PropTypes.func).isRequired,is_pinner:l.PropTypes.bool,isHovering:l.PropTypes.bool.isRequired,label:l.PropTypes.string,onClick:l.PropTypes.func.isRequired,onHoverEnd:l.PropTypes.func.isRequired,onHoverStart:l.PropTypes.func.isRequired,send_pin_image:l.PropTypes.string,type:l.PropTypes.oneOf(["user","facebook_non_pinner","gplus_non_pinner"]).isRequired},t["default"]=(0,f["default"])(y)},1805:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.boardId,n=a(e,["boardId"]);return(0,c.createElement)((0,E["default"])({name:"BoardFeedResource",options:{board_id:t,page_size:50,field_set_key:"board_cover_picker"},key:"pins"})(C),u({boardId:t},n))}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=l;var c=n(1),p=r(c),d=n(1806),f=r(d),m=n(14),h=r(m),y=n(27),g=r(y),v=n(4),b=r(v),_=n(5),T=r(_),P=n(22),E=r(P),C=function(e){function t(){var n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),c=0;i>c;c++)l[c]=arguments[c];return n=r=s(this,e.call.apply(e,[this].concat(l))),r.state={coverPinIndex:0,imgCropData:{},isSaving:!1},r.handleSave=function(){r.setState({isSaving:!0});var e=r.props,t=e.pins,n=void 0===t?{}:t,a=e.boardId,o=r.state,s=o.coverPinIndex,i=o.imgCropData,l=n[s],c=l.images["236x"],p=c.url;g["default"].trackEvent("board_edit_cover","click_submit");var d=u({pin_id:l.id,pin_image_url:p},i),f=u({board_id:a,url:p},d),m=T["default"].create("BoardResource",f);m.callUpdate().then(function(){g["default"].trackEvent("board_edit_cover","success"),r.setState({isSaving:!1}),r.props.onSave(p,{height:c.height,width:c.width,x:i.crop_x,y:i.crop_y})})["catch"](function(){r.setState({isSaving:!1})})},r.updateImgCrop=function(e){r.setState({imgCropData:e})},a=n,s(r,a)}return i(t,e),t.prototype.componentDidUpdate=function n(e){var t=this.props.pins,n=e.pins;(t&&n!==t&&t.length||t&&n&&t.length!==n.length)&&t.forEach(function(e){var t=new Image;t.src=e.url})},t.prototype.changePin=function r(e){0>e||e>=this.props.pins.length||this.setState({coverPinIndex:e})},t.prototype.render=function a(){var e=this,t=this.props,n=t.boardName,r=t.frameHeight,a=t.frameWidth,o=t.pins,s=this.state,i=s.coverPinIndex,l=s.isSaving;return o?p["default"].createElement("div",{className:"BoardCoverEditPage"},p["default"].createElement("div",{className:"standardForm"},p["default"].createElement("h1",null,p["default"].createElement("strong",null,b["default"]._("Change Board Cover"))," / "+n),p["default"].createElement("div",{className:"boardCoverEditPageContainer"},p["default"].createElement("div",{className:"BoardCoverEdit"},p["default"].createElement(f["default"],{boardName:n,frameHeight:r,frameWidth:a,isFirst:!i,isLast:i===o.length-1,pin:o[i],showNextPin:function u(){e.changePin(i+1)},showPrevPin:function c(){e.changePin(i-1)},updateImgCrop:this.updateImgCrop})),p["default"].createElement("div",{className:"formFooter"},p["default"].createElement("div",{className:"formFooterButtons"},p["default"].createElement(h["default"],{isSaving:l,onClick:this.props.onCancel,text:b["default"]._("Cancel")}),p["default"].createElement(h["default"],{onClick:this.handleSave,text:b["default"]._("Save Changes"),type:"primary"})))))):null},t}(c.Component);C.propTypes={boardId:c.PropTypes.string.isRequired,boardName:c.PropTypes.string.isRequired,frameHeight:c.PropTypes.number,frameWidth:c.PropTypes.number,onCancel:c.PropTypes.func.isRequired,onSave:c.PropTypes.func.isRequired,pins:c.PropTypes.arrayOf(c.PropTypes.shape({id:c.PropTypes.string,images:c.PropTypes.shape({"236x":c.PropTypes.shape({url:c.PropTypes.string.isRequired})})}))},l.propTypes={boardId:c.PropTypes.string.isRequired}},1806:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=n(1),l=r(i),u=n(14),c=r(u),p=n(4),d=r(p),f=n(15),m=r(f),h="236x",y=function(e){
function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.state={deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}},r.handleUpdateImage=function(){var e=r.image,t=e.offsetHeight,n=e.offsetWidth;r.setState({isSpinnerShown:!1,startBgPos:{left:-(n-r.state.holderWidth)/2,top:-(t-r.state.holderHeight)/2}})},r.handleOnMouseUp=function(){r.isDragging=!1,r.setState({startBgPos:{left:r.getBgLeft(),top:r.getBgTop()},deltaX:0,deltaY:0}),r.props.updateImgCrop(r.getCropData())},s=n,o(r,s)}return s(t,e),t.prototype.componentDidMount=function n(){var e=this.holder;this.setState({holderHeight:e.offsetHeight,holderWidth:e.offsetWidth}),document.body.addEventListener("mouseup",this.handleOnMouseUp,!1)},t.prototype.componentWillReceiveProps=function r(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})},t.prototype.componentWillUnmount=function i(){document.body.removeEventListener("mouseup",this.handleOnMouseUp)},t.prototype.getFrameBounds=function u(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this.state,a=r.holderHeight,o=r.holderWidth;return{left:o/2-n/2,width:n,height:t,top:a/2-t/2}},t.prototype.getBgLeft=function p(){var e=this.props.frameWidth,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),a=r.imgHeight*n,o=r.imgWidth*n,s=0;return a&&o&&(s=this.state.startBgPos.left+this.state.deltaX,s+o-e<t.left&&(s=t.left-o+e),s>t.left&&(s=t.left)),s},t.prototype.getBgTop=function f(){var e=this.props.frameHeight,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),a=r.imgHeight*n,o=r.imgWidth*n,s=0;return a&&o&&(s=this.state.startBgPos.top+this.state.deltaY,s+a-e<t.top&&(s=t.top-a+e),s>t.top&&(s=t.top)),s},t.prototype.getImgScale=function y(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this._getImageDimensions(),a=r.imgHeight,o=r.imgWidth,s=this.getFrameBounds();if(a&&o){var i=a/o,l=s.height/s.width;return i=i>=l?n/o:t/a}return 1},t.prototype.getImageBounds=function g(){var e=this._getImageDimensions(),t=e.imgHeight,n=e.imgWidth,r={};if(t&&n){var a=this.getImgScale();r={width:a*n,height:a*t}}return r},t.prototype.getBgBounds=function v(){return{left:this.getBgLeft(),top:this.getBgTop()}},t.prototype.getCropData=function b(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this.getFrameBounds(),a=this._getImageDimensions(),o=a.imgHeight,s=a.imgWidth,i=this.getBgBounds(),l=this.getImgScale();return{crop_x:Math.round(-(i.left-r.left)/l),crop_y:Math.round(-(i.top-r.top)/l),nativeHeight:o,nativeWidth:s,height:Math.round(t/l),width:Math.round(n/l),scale:1}},t.prototype.handleOnMouseDown=function _(e){0===e.nativeEvent.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)},t.prototype.handleOnMouseMove=function T(e){this.isDragging&&this.setState({deltaX:e.pageX-this.originX,deltaY:e.pageY-this.originY})},t.prototype._getImageDimensions=function P(){var e=this.props.pin,t=e.images[h];return{imgHeight:t.height,imgWidth:t.width}},t.prototype.render=function E(){var e=this,t=this.props,n=t.boardName,r=t.frameHeight,a=t.frameWidth,o=t.isFirst,s=t.isLast,i=t.pin,u=t.showNextPin,p=t.showPrevPin,f=this.state.isSpinnerShown,h=this._getImageDimensions(),y=h.imgHeight,g=h.imgWidth,v=this.getFrameBounds(),b=this.getImageBounds(),_=this.getBgBounds(),T="";return y&&g&&(T="in"),l["default"].createElement("div",{className:"ImageCrop"},l["default"].createElement("div",{className:"holder",ref:function P(t){e.holder=t}},l["default"].createElement("div",{className:"bg",style:_},l["default"].createElement("img",{alt:m["default"].dangerouslyFormat(d["default"]._("Board cover for {{ boardName }}"),{boardName:n}),className:T,onLoad:this.handleUpdateImage,ref:function E(t){e.image=t},src:i.images["236x"].url,style:b})),l["default"].createElement("div",{className:"mask"},l["default"].createElement("span",{style:{top:0,left:0,right:0,height:v.top}}),l["default"].createElement("span",{style:{top:v.top,left:v.left+a,right:0,height:r}}),l["default"].createElement("span",{style:{top:r+v.top,left:0,right:0,bottom:0}}),l["default"].createElement("span",{style:{top:v.top,left:0,width:v.left,height:r}})),l["default"].createElement("div",{className:"frame",style:v}),l["default"].createElement("div",{className:"drag",onMouseDown:function C(t){e.handleOnMouseDown(t)},onMouseMove:function w(t){e.handleOnMouseMove(t)}}),l["default"].createElement("div",{className:"spinner",style:{display:f?"":"none"}})),o?null:l["default"].createElement(c["default"],{className:"previous",onClick:p,text:""}),s?null:l["default"].createElement(c["default"],{className:"next",onClick:u,text:""}))},t}(i.Component);y.propTypes={boardName:i.PropTypes.string,frameHeight:i.PropTypes.number,frameWidth:i.PropTypes.number,isFirst:i.PropTypes.bool.isRequired,isLast:i.PropTypes.bool.isRequired,pin:i.PropTypes.shape({id:i.PropTypes.string,images:i.PropTypes.shape({"236x":i.PropTypes.shape({height:i.PropTypes.number.isRequired,url:i.PropTypes.string.isRequired,width:i.PropTypes.number.isRequired})})}),showNextPin:i.PropTypes.func.isRequired,showPrevPin:i.PropTypes.func.isRequired,updateImgCrop:i.PropTypes.func.isRequired},y.defaultProps={frameHeight:111,frameWidth:236},t["default"]=y},1809:function(e,t,n){function r(e,t){var n=[];return a(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}var a=n(330);e.exports=r},1810:function(e,t,n){function r(e,t){var n=i(e)?a:o;return n(e,s(t,3))}var a=n(329),o=n(1809),s=n(187),i=n(31);e.exports=r},1855:function(e,t,n){function r(e){if(!e)return 0===e?e:0;if(e=a(e),e===o||e===-o){var t=0>e?-1:1;return t*s}return e===e?e:0}var a=n(352),o=1/0,s=1.7976931348623157e308;e.exports=r},1975:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=(0,v["default"])({name:e.resourceName,options:l({page_size:e.pageSize},e.resourceOptions)},{allowStale:!0})(P);return c["default"].createElement(t,e)}t.__esModule=!0,t.ScrollableList=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var u=n(1),c=r(u),p=n(7),d=r(p),f=n(4),m=r(f),h=n(99),y=r(h),g=n(22),v=r(g),b=n(12),_={UP:"up",DOWN:"down"},T=100,P=t.ScrollableList=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.handleScroll=(0,y["default"])(function(){if(!r.props.isFetching){var e=r.props.scrollThreshold,t=r._container.scrollHeight-r._container.scrollTop-r._container.clientHeight;e>t&&r.fetchMore()}},T),r.addEventListeners=function(e){var t=r.props.shouldPreventScroll;r.removeEventListeners(),e&&(t&&e.addEventListener("wheel",r.preventScroll),e.addEventListener("scroll",r.handleScroll)),r._container=e},r.preventScroll=function(e){var t=e.deltaY<0?_.UP:_.DOWN,n=r._container.scrollHeight-r._container.scrollTop-r._container.clientHeight===0,a=0===r._container.scrollTop;(t===_.DOWN&&n||t===_.UP&&a)&&e.preventDefault()},s=n,o(r,s)}return s(t,e),t.prototype.componentWillReceiveProps=function n(e){var t=e.data.length,n=e.onDataFetched;n(t)},t.prototype.componentWillUnmount=function r(){this.removeEventListeners()},t.prototype.removeEventListeners=function i(){var e=this.props.shouldPreventScroll;this._container&&(e&&this._container.removeEventListener("wheel",this.preventScroll),this._container.removeEventListener("scroll",this.handleScroll))},t.prototype.fetchMore=function l(){this.props.isFetching||(this.props.isAtEnd?this._container.removeEventListener("scroll",this.handleScroll):this.props.fetchMoreData())},t.prototype.render=function u(){var e=this.props,t=e.className,n=e.renderEmptyState,r=e.renderItem;return this.props.isFetching||0!==this.props.data.length?c["default"].createElement("div",{className:(0,d["default"])(t,"listContainer"),ref:this.addEventListeners},this.props.data?c["default"].createElement("ul",{className:"scrollableList"},this.props.data.map(function(e,t){return r(e,t)})):null,this.props.isAtEnd?null:c["default"].createElement("div",{className:"loadingItem"},c["default"].createElement(b.Spinner,{label:m["default"]._("Loading items"),show:this.props.isFetching}))):n()},t}(u.Component);P.propTypes={className:u.PropTypes.string,data:u.PropTypes.arrayOf(u.PropTypes.shape({})),fetchMoreData:u.PropTypes.func.isRequired,isAtEnd:u.PropTypes.bool.isRequired,isFetching:u.PropTypes.bool.isRequired,onDataFetched:u.PropTypes.func,renderEmptyState:u.PropTypes.func.isRequired,renderItem:u.PropTypes.func.isRequired,scrollThreshold:u.PropTypes.number,shouldPreventScroll:u.PropTypes.bool},P.defaultProps={data:[],onDataFetched:function E(){},scrollThreshold:400,shouldPreventScroll:!0},i.defaultProps={pageSize:10},i.propTypes={pageSize:u.PropTypes.number,resourceName:u.PropTypes.string.isRequired,resourceOptions:u.PropTypes.shape({})}},2145:function(e,t){function n(e,t,n,o){for(var s=-1,i=a(r((t-e)/(n||1)),0),l=Array(i);i--;)l[o?i:++s]=e,e+=n;return l}var r=Math.ceil,a=Math.max;e.exports=n},2146:function(e,t,n){function r(e){return function(t,n,r){return r&&"number"!=typeof r&&o(t,n,r)&&(n=r=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),r=void 0===r?n>t?1:-1:s(r),a(t,n,r,e)}}var a=n(2145),o=n(200),s=n(1855);e.exports=r},2148:function(e,t,n){var r=n(2146),a=r();e.exports=a},3240:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return c["default"].createElement("img",{alt:e,className:"head",src:t})}function l(e){var t=e.viewer.id;return{viewerId:t}}t.__esModule=!0,t.ConversationMembersRep=void 0;var u=n(1),c=r(u),p=n(17),d=n(3241),f=r(d),m=n(7),h=r(m),y=3,g=[["fullWrapper"],["leftWrapper halfWrapper","rightWrapper halfWrapper isWholeHalf"],["leftWrapper halfWrapper","rightWrapper halfWrapper smallImage top","rightWrapper halfWrapper smallImage bottom"]],v=function T(e,t){var n=e.name,r=e.image_thumbnail_url;return c["default"].createElement("div",{className:(0,h["default"])("Image","Module","boardMessageRep",t)},c["default"].createElement("img",{alt:n,src:r}))},b=function P(e){function t(e){var t=e.full_name,n=e.is_default_image,r=e.image_large_url,o=e.image_medium_url,s=e.username,l=t?t[0].toUpperCase():"",u=r||o;return u&&!n?a?c["default"].createElement("div",null,c["default"].createElement("a",{href:"/"+s+"/"},i(t,u))):c["default"].createElement("div",null,i(t,u)):c["default"].createElement("div",{className:"head"},l)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2],a=arguments[3],o=["ConversationHead",e];return c["default"].createElement("div",{className:o.join(" ")},c["default"].createElement("div",{className:"contentContainer"},c["default"].createElement("div",{className:"headWrapper"},c["default"].createElement("div",{className:"imagesWrapper"},n.map(function(e,n){return c["default"].createElement("div",{className:e,key:n},t(r[n]))})))))},_=t.ConversationMembersRep=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.getUsersToShow=function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.props.viewerId;return(0,f["default"])(t,{id:n}),t.concat(e.map(function(e){return{full_name:e}})).slice(0,y)},t.prototype.render=function r(){var e=this.props,t=e.board,n=e.emails,r=e.shouldLink,a=e.size,o=e.users,s=this.getUsersToShow(n,o),i=s.length<=y?g[s.length-1]:[];return t?v(t,a):b(a,i,s,r)},t}(u.Component);_.propTypes={board:u.PropTypes.shape({image_thumbnail_url:u.PropTypes.string,name:u.PropTypes.string}),emails:u.PropTypes.arrayOf(u.PropTypes.string),shouldLink:u.PropTypes.bool,size:u.PropTypes.oneOf(["small","medium","normal"]),users:u.PropTypes.arrayOf(u.PropTypes.shape({full_name:u.PropTypes.string,id:u.PropTypes.string,image_large_url:u.PropTypes.string,image_medium_url:u.PropTypes.string,is_default_image:u.PropTypes.bool,username:u.PropTypes.string})),viewerId:u.PropTypes.string},_.defaultProps={shouldLink:!1,size:"medium"},t["default"]=(0,p.connect)(l)(_)},3241:function(e,t,n){function r(e,t){var n=[];if(!e||!e.length)return n;var r=-1,s=[],i=e.length;for(t=a(t,3);++r<i;){var l=e[r];t(l,r,e)&&(n.push(l),s.push(r))}return o(e,s),n}var a=n(187),o=n(3242);e.exports=r},3242:function(e,t,n){function r(e,t){for(var n=e?t.length:0,r=n-1;n--;){var s=t[n];if(n==r||s!==l){var l=s;o(s)?i.call(e,s,1):a(e,s)}}return e}var a=n(3244),o=n(145),s=Array.prototype,i=s.splice;e.exports=r},3243:function(e,t){function n(e,t,n){var r=-1,a=e.length;0>t&&(t=-t>a?0:a+t),n=n>a?a:n,0>n&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}e.exports=n},3244:function(e,t,n){function r(e,t){return t=a(t,e),e=s(e,t),null==e||delete e[i(o(t))]}var a=n(212),o=n(3246),s=n(3245),i=n(85);e.exports=r},3245:function(e,t,n){function r(e,t){return t.length<2?e:a(e,o(t,0,-1))}var a=n(211),o=n(3243);e.exports=r},3246:function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},3658:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.contactCount,n=e.isInContactRequestsView,r=e.onClick;if(!t)return null;var a=void 0;return a=t>v?d["default"]._("1000+ contact requests","messaging"):t>=g&&v>=t?d["default"]._("100+ contact requests","messaging"):m["default"].safeFormat(d["default"].ngettext("{{ contactCount }} contact request","{{ contactCount }} contact requests",t),{contactCount:""+t}),s["default"].createElement("div",{className:"Module ContactRequestsCount"},s["default"].createElement(l["default"],{className:(0,c["default"])({contactRequestView:n},"isBrioFlat","contactRequestsCount","btn"),hasIcon:n,hasText:!0,onClick:r,text:a,type:"borderless"}))}t.__esModule=!0;var o=n(1),s=r(o),i=n(14),l=r(i),u=n(7),c=r(u),p=n(4),d=r(p),f=n(15),m=r(f),h=n(22),y=r(h),g=100,v=1e3;a.propTypes={contactCount:o.PropTypes.number,isInContactRequestsView:o.PropTypes.bool,onClick:o.PropTypes.func.isRequired},t["default"]=(0,y["default"])({name:"ContactRequestsCountGetResource",key:"contactCount"})(a)},3659:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=n(1),l=r(i),u=n(3675),c=r(u),p=n(12),d=8,f=32,m={BOARD:"board",PIN:"pin",USER:"user"},h=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.getRowElements=function n(){var e=this,t=this.props,n=t.maxWidth,r=t.previewItems,a=f+d,o=function s(e){return e&&e.width+a<n?(a+=e.width+d,!0):!1};return r.filter(o).map(function(t,n){return e.mapPreviewItemToElement(t,n)})},t.prototype.mapPreviewItemToElement=function r(e,t){var n=e.alt,r=e.height,a=e.imageUrl,o=e.type,s=e.width;switch(o){case m.PIN:var i={backgroundImage:"url("+a+")",backgroundPosition:"center top",backgroundSize:"cover",display:"inline-block",height:r,width:s};return l["default"].createElement("span",{className:"newsHubRowItem rounded",key:t,style:i});case m.BOARD:return l["default"].createElement("span",{className:"newsHubRowItem",key:t},l["default"].createElement(p.Mask,{height:r,shape:"rounded",width:s},l["default"].createElement("img",{alt:n,src:a,style:{height:r,width:s}})));case m.USER:return l["default"].createElement("span",{className:"newsHubRowItem",key:t},l["default"].createElement(c["default"],e))}},t.prototype.render=function i(){var e=this.props,t=e.previewItemCount,n=e.maxWidth,r=this.getRowElements(),a=l["default"].createElement("span",{className:"newsHubRowItem"},l["default"].createElement("div",{className:"newsHubPreviewNumber rounded whiteOnHover"},l["default"].createElement(p.Text,{align:"center",size:"sm"},"+"+(t-r.length))));return l["default"].createElement("div",{className:"newsHubRowWithCount",style:{width:n+"px"}},r,t-r.length>0?a:null)},t}(i.Component);h.propTypes={maxWidth:i.PropTypes.number.isRequired,previewItemCount:i.PropTypes.number,previewItems:i.PropTypes.arrayOf(i.PropTypes.shape({alt:i.PropTypes.string,height:i.PropTypes.number.isRequired,imageUrl:i.PropTypes.string.isRequired,recentPins:i.PropTypes.arrayOf(i.PropTypes.shape({url:i.PropTypes.string})),numPins:i.PropTypes.number,pinWidth:i.PropTypes.number,type:i.PropTypes.string.isRequired,width:i.PropTypes.number.isRequired}))},t["default"]=h},3663:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=n(1),l=r(i),u=n(14),c=r(u),p=n(7),d=r(p),f=n(4),m=r(f),h=n(5),y=r(h),g=n(15),v=r(g),b=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.state={contactRequestCompleted:!1,isAcceptButtonLoading:!1,isIgnoreButtonLoading:!1},r.handleInviteAcceptResponse=function(){r.setState({isAcceptButtonLoading:!0,isIgnoreButtonLoading:!1});var e=y["default"].create("ContactRequestAcceptResource",{contact_request:r.props});e.callUpdate().then(function(){r.setState({contactRequestCompleted:!0,isAcceptButtonLoading:!1})})},r.handleInviteDeclineResponse=function(){r.setState({isAcceptButtonLoading:!1,isIgnoreButtonLoading:!0});var e=y["default"].create("ContactRequestIgnoreResource",{contact_request:r.props});e.callDelete().then(function(){r.setState({contactRequestCompleted:!0,isIgnoreButtonLoading:!1})})},s=n,o(r,s)}return s(t,e),t.prototype.renderRequestText=function n(e,t,r){if(e){var a=e.name,o=e.url;return v["default"].safeFormat(m["default"]._('<a href="/{{ senderUsername }}/">{{ senderName }}</a> invited you to collaborate on <a href="{{ boardUrl }}">{{ boardName }}</a>'),{boardName:a,boardUrl:o,senderName:t,senderUsername:r})}return v["default"].safeFormat(m["default"]._('<a href="/{{ senderUsername }}/">{{ senderName }}</a> wants to send a message to you'),{senderName:t,senderUsername:r})},t.prototype.render=function r(){var e=this.state,t=e.contactRequestCompleted,n=e.isAcceptButtonLoading,r=e.isIgnoreButtonLoading;if(t)return null;var a=this.props,o=a.board,s=a.sender,i=s.image_large_url,u=s.full_name,p=s.username;return l["default"].createElement("div",{className:"ContactRequestItem"},l["default"].createElement("div",{className:"imageRep"},l["default"].createElement("a",{href:"/"+p+"/"},l["default"].createElement("img",{alt:p,className:"senderImage",src:i}))),l["default"].createElement("div",{className:"requestInfo"},l["default"].createElement("div",{className:"requestDescription"},l["default"].createElement("span",{dangerouslySetInnerHTML:{__html:this.renderRequestText(o,u,p)}})),l["default"].createElement("div",{className:"actions"},l["default"].createElement(c["default"],{className:(0,d["default"])("removeInvite","isBrioFlat","btn"),loading:r,onClick:this.handleInviteDeclineResponse,text:m["default"]._("Ignore","ignore contact request")}),l["default"].createElement(c["default"],{className:(0,d["default"])("primary","acceptInvite","isBrioFlat","btn"),loading:n,onClick:this.handleInviteAcceptResponse,text:m["default"]._("Accept","accept contact request")}))))},t}(i.Component);b.propTypes={board:i.PropTypes.shape({name:i.PropTypes.string,url:i.PropTypes.string}),sender:i.PropTypes.shape({full_name:i.PropTypes.string.isRequired,image_large_url:i.PropTypes.string.isRequired,username:i.PropTypes.string.isRequired})},t["default"]=b},3664:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.contactRequests,n=e.handleCancelViewContactRequests;return t?i["default"].createElement("div",{className:"Module ContactRequestsCount"},i["default"].createElement(f["default"],{contactCount:t.length,isInContactRequestsView:!0,onClick:n}),i["default"].createElement("div",{className:"disclaimer"},p["default"]._("These messages appear from people outside of your networks.","contact requests disclaimer")),t.map(function(e){return i["default"].createElement(u["default"],o({key:e.id},e))})):null}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),i=r(s),l=n(3663),u=r(l),c=n(4),p=r(c),d=n(3658),f=r(d),m=n(22),h=r(m);a.propTypes={contactRequests:s.PropTypes.arrayOf(s.PropTypes.shape({board:s.PropTypes.shape({name:s.PropTypes.string,url:s.PropTypes.string}),id:s.PropTypes.string.isRequired,sender:s.PropTypes.shape({full_name:s.PropTypes.string.isRequired,image_large_url:s.PropTypes.string.isRequired,username:s.PropTypes.string.isRequired})})),handleCancelViewContactRequests:s.PropTypes.func},t["default"]=(0,h["default"])({name:"ContactRequestsResource",key:"contactRequests"})(a)},3665:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.ConversationListItem=void 0;var i=n(1),l=r(i),u=n(17),c=n(14),p=r(c),d=n(3240),f=r(d),m=n(319),h=r(m),y=n(7),g=r(y),v=n(4),b=r(v),_=n(37),T=r(_),P=n(5),E=r(P),C=n(15),w=r(C),I=n(20),N=r(I),O=n(36),S=r(O),R=n(30),k=n(278),x=n(804),M=50,q=t.ConversationListItem=function(e){function t(n){a(this,t);var r=o(this,e.call(this,n));return r.handleHideConversation=function(e){e.stopPropagation();var t=r.props.data,n=t.id,a=E["default"].create("ConversationResource",{conversation_id:n});a.callDelete({showError:!1}),r.removeConversationChatHead(n),r.setState({isHidden:!0}),r.logConversationItemHide(n)},r.handleConversationItemClick=function(){var e=r.props.data;e.board||r.showConversationChatHead(e),r.setState({unread:0}),r.logConversationItemClick()},r.logConversationItemClick=function(){var e=r.props.contextLog;e(101,{component:54,element:277})},r.logConversationItemHide=function(e){var t=r.props.contextLog;t(182,{component:54,element:277,conversation_id:e})},r.state={isHidden:!1,unread:n.data.unread||0},r}return s(t,e),t.prototype.showConversationChatHead=function n(e){var t=this.props,n=t.dispatch,r=t.inReactConversations;if(r){var a=e.id;n((0,x.conversationShow)(a)),n((0,x.conversationOpen)(a))}else(0,h["default"])().then(function(t){t.addConversation(e,!0)})},t.prototype.removeConversationChatHead=function r(e){(0,h["default"])().then(function(t){t.removeConversationById(e)})},t.prototype.renderConversationsTitleNames=function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.map(function(e,t){return l["default"].createElement("a",{href:"/"+e.username+"/",key:t},e.first_name)}).concat(e.map(function(e,t){return l["default"].createElement("span",{key:t},e)}));return l["default"].createElement("div",{className:"membersTitleNames"},n.map(function(e,t){var r=b["default"]._(", ","comma separating conversation member names");return l["default"].createElement("span",{key:t},e,t===n.length-1?"":l["default"].createElement("span",null,r))}))},t.prototype.renderConversationsTitleView=function u(e,t,n,r){var a=this.props.viewerId,o=r.filter(function(e){return e.id!==a});return l["default"].createElement("h1",{className:"conversationTitleContainer"},t||this.renderConversationsTitleNames(n,o))},t.prototype.renderLastMessage=function c(e){var t=e.board,n=e.created_at,r=e.pin,a=e.sender,o=e.text,s=e.user,i=o;if(!i){var u=a.first_name;r?i=w["default"].safeFormat(b["default"]._("{{ senderName }} sent a Pin","messaging"),{senderName:u}):t?i=w["default"].safeFormat(b["default"]._("{{ senderName }} sent a board","messaging"),{senderName:u}):s&&(i=w["default"].safeFormat(b["default"]._("{{ senderName }} sent a user profile","messaging"),{senderName:u}))}return i=(0,k.smartTruncate)(i||"",M),l["default"].createElement("div",null,l["default"].createElement("div",{className:"lastMessageContent"},i),l["default"].createElement("div",{className:"lastMessageTimestamp"},b["default"].getHumanizedTimesince(n)))},t.prototype.renderItemContent=function d(){var e=this.state.isHidden,t=this.props.data,n=t.board,r=t.emails,a=t.last_message,o=t.name,s=t.users,i=r||[];return l["default"].createElement("div",{className:(0,g["default"])("ConversationListItemReact",{conversationHidden:e})},l["default"].createElement("div",{className:"conversationRepContainer"},l["default"].createElement(f["default"],{board:n,emails:i,users:s})),l["default"].createElement("div",{className:"conversationContentContainer"},this.renderConversationsTitleView(n,o,i,s),a?this.renderLastMessage(a):null),this.state.unread>0?l["default"].createElement("span",{className:"conversationUnreadMark"}):null,l["default"].createElement(p["default"],{className:"conversationCloseButton",hasText:!0,onClick:this.handleHideConversation,text:b["default"]._("×","close button"),type:"borderless"}))},t.prototype.render=function m(){var e=this.props.data,t=e.board,n=e.users;return n.length?t?l["default"].createElement(T["default"],{onClick:this.handleConversationItemClick,to:t.url},this.renderItemContent()):l["default"].createElement("div",{onClick:this.handleConversationItemClick,role:"button"},this.renderItemContent()):null},t}(i.Component);q.propTypes={contextLog:i.PropTypes.func.isRequired,data:i.PropTypes.shape({board:i.PropTypes.shape({image_thumbnail_url:i.PropTypes.string,name:i.PropTypes.string,url:i.PropTypes.string}),emails:i.PropTypes.arrayOf(i.PropTypes.string),id:i.PropTypes.string.isRequired,last_message:i.PropTypes.shape({board:i.PropTypes.shape({}),created_at:i.PropTypes.string,pin:i.PropTypes.shape({}),sender:i.PropTypes.shape({first_name:i.PropTypes.string,id:i.PropTypes.string}),text:i.PropTypes.string,user:i.PropTypes.shape({})}),name:i.PropTypes.string,unread:i.PropTypes.number.isRequired,users:i.PropTypes.arrayOf(i.PropTypes.shape({first_name:i.PropTypes.string,full_name:i.PropTypes.string,id:i.PropTypes.string,image_large_url:i.PropTypes.string,is_default_image:i.PropTypes.bool,username:i.PropTypes.string}))}),dispatch:i.PropTypes.func.isRequired,inReactConversations:i.PropTypes.bool.isRequired,viewerId:i.PropTypes.string.isRequired};var B=function j(e){var t=e.viewer.id;return{viewerId:t}},H=function D(e){return(0,S["default"])(function(e,t){return{inReactConversations:["enabled","employees"].includes(t.v2ActivateExperiment("react_conversations_2"))}},e)};t["default"]=(0,R.compose)((0,u.connect)(B),H,N["default"])(q)},3666:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.CreateConversationGroup=void 0;var i=n(1),l=r(i),u=n(17),c=n(14),p=r(c),d=n(319),f=r(d),m=n(7),h=r(m),y=n(4),g=r(y),v=n(3773),b=r(v),_=n(3241),T=r(_),P=n(5),E=r(P),C=n(3669),w=r(C),I=n(1063),N=r(I),O=n(3779),S=r(O),R=n(3670),k=r(R),x=n(36),M=r(x),q=n(30),B=n(804),H=8,j=2,D=t.CreateConversationGroup=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,u=Array(i),c=0;i>c;c++)u[c]=arguments[c];return n=r=o(this,e.call.apply(e,[this].concat(u))),r.state={contactCounter:0,selectedEmails:{},selectedUsers:{},tokenizedItems:[],value:""},r.onHandleContactClick=function(e,t){var n=r.state,a=n.selectedEmails,o=n.selectedUsers,s=e?o:a,i=e?t.id:t,l=s[i];s[i]=!l,l?r.removeTokenItem(t):r.addTokenItem(t)},r.getSelectedEmails=function(){var e=r.state.selectedEmails;return Object.keys(e).filter(function(t){return e[t]})},r.getSelectedUsers=function(){var e=r.state.selectedUsers;return Object.keys(e).filter(function(t){return e[t]})},r.handleTypeaheadKeyDown=function(e){var t=r.state,n=t.contactCounter,a=t.selectedEmails,o=t.selectedUsers,s=t.tokenizedItems,i=t.value;if(e.keyCode===H&&n&&!i){var l=s.pop(),u=!!l.id,c=l.id||l,p=u?o:a;p[c]=!1,r.setState({contactCounter:n-1,tokenizedItems:s})}},r.handleInviteItemClick=function(e,t){var n=r.state,a=n.selectedUsers,o=n.selectedEmails,s=e?a:o,i=t.id||t;s[i]||(s[i]=!0,r.addTokenItem(t))},r.handleSendMessage=function(){var e={text:null},t=r.getSelectedEmails(),n=r.getSelectedUsers(),a=r.props,o=a.dispatch,s=a.inReactConversations;if("function"==typeof f["default"])if(s){var i=E["default"].create("ConversationsResource",{user_ids:n,emails:t,text:null});i.callCreate().then(function(e){var t=e&&e.resource_response.data.id;o((0,B.conversationShow)(t)),o((0,B.conversationOpen)(t))})}else(0,f["default"])().then(function(r){r.sendMessageToUsers(n,t,e)})},r.addTokenItem=function(e){var t=r.state,n=t.contactCounter,a=t.tokenizedItems;r.setState({contactCounter:n+1,tokenizedItems:a.concat([e]),value:""})},r.removeTokenItem=function(e){var t=r.state,n=t.contactCounter,a=t.tokenizedItems,o=n-1;e.id?((0,T["default"])(a,{id:e.id}),r.setState({contactCounter:o,tokenizedItems:a})):r.setState({contactCounter:o,tokenizedItems:(0,
b["default"])(a,e)})},r.renderSendMessageButton=function(){return l["default"].createElement(p["default"],{className:(0,h["default"])("sendNewMessageButton"),hasText:!0,onClick:r.handleSendMessage,showText:!0,text:g["default"]._("Next","open the new chat"),type:"borderless"})},r.renderCancelMessageButton=function(){var e=r.props.handleCancelNewMessageClick;return l["default"].createElement(p["default"],{className:(0,h["default"])("cancelNewMessageView","cancelButton"),hasText:!0,onClick:e,showText:!0,text:g["default"]._("Cancel","cancel new message view"),type:"borderless"})},s=n,o(r,s)}return s(t,e),t.prototype.getContactItem=function n(e,t,r){var a=e.emails,o=e.users;if(r&&o){var s=o[0].id===t?o[1]:o[0];return s}return a[0]},t.prototype.render=function r(){var e=this,t=this.props,n=t.conversationItems,r=t.viewerId,a=this.state,o=a.contactCounter,s=a.selectedUsers,i=a.selectedEmails,u=n.map(function(t,n){var a=t.emails,o=void 0===a?[]:a,u=t.users,c=void 0===u?[]:u,p=c.length+o.length;if(p>0&&j>=p){var d=0===o.length,f=e.getContactItem(t,r,d);if(f){var m=f.id||f;return l["default"].createElement(w["default"],{className:"conversationContactContainer",contactItem:f,conversationItem:t,currentUserID:r,handleContactWrapperClick:e.onHandleContactClick,isSelected:s[m]||i[m],isUser:d,key:m+("-"+n)})}}return null});return l["default"].createElement("div",null,l["default"].createElement("div",{className:S["default"].conversationsGroupHeader},l["default"].createElement("h1",{className:S["default"].newMessageTitle},g["default"]._("New message","conversations")),o>0?this.renderSendMessageButton():this.renderCancelMessageButton()),l["default"].createElement("div",{className:S["default"].conversationGroupTokenizedWrapper},l["default"].createElement("div",{className:S["default"].tokenizedWrapperTitle},g["default"]._("To:","new message")),l["default"].createElement("div",{className:S["default"].socialTypeaheadContainer},l["default"].createElement(k["default"],{tokenizedItems:this.state.tokenizedItems}),l["default"].createElement(N["default"],{changeOnTextHover:!1,className:(0,h["default"])(S["default"].typeahead,"reactNewMessageTypeahead"),onChange:function c(t){return e.setState({value:t})},onInviteItemClick:this.handleInviteItemClick,onKeyDown:this.handleTypeaheadKeyDown,showInputPlaceholder:!1,value:this.state.value}))),l["default"].createElement("div",{className:"contactsContainer"},u))},t}(i.Component);D.propTypes={conversationItems:i.PropTypes.arrayOf(i.PropTypes.shape({board:i.PropTypes.shape({image_thumbnail_url:i.PropTypes.string,name:i.PropTypes.string,url:i.PropTypes.string}),emails:i.PropTypes.arrayOf(i.PropTypes.string),id:i.PropTypes.string.isRequired,last_message:i.PropTypes.shape({board:i.PropTypes.shape({}),created_at:i.PropTypes.string,pin:i.PropTypes.shape({}),sender:i.PropTypes.shape({first_name:i.PropTypes.string,id:i.PropTypes.string}),text:i.PropTypes.string,user:i.PropTypes.shape({})}),name:i.PropTypes.string,unread:i.PropTypes.number.isRequired,users:i.PropTypes.arrayOf(i.PropTypes.shape({first_name:i.PropTypes.string,full_name:i.PropTypes.string,id:i.PropTypes.string,image_large_url:i.PropTypes.string,is_default_image:i.PropTypes.bool,username:i.PropTypes.string}))})),dispatch:i.PropTypes.func.isRequired,handleCancelNewMessageClick:i.PropTypes.func,inReactConversations:i.PropTypes.bool.isRequired,viewerId:i.PropTypes.string.isRequired};var A=function U(e){var t=e.viewer.id;return{viewerId:t}},W=function F(e){return(0,M["default"])(function(e,t){return{inReactConversations:["enabled","employees"].includes(t.v2ActivateExperiment("react_conversations_2"))}},e)};t["default"]=(0,q.compose)((0,u.connect)(A),W)(D)},3667:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=n(1),l=r(i),u=n(14),c=r(u),p=n(7),d=r(p),f=n(4),m=r(f),h=n(5),y=r(h),g=n(15),v=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.state={boardInviteAccepted:!1,boardInvitePending:!0,isAcceptButtonLoading:!1,isIgnoreButtonLoading:!1},r.handleInviteResponse=function(e){var t=r.props.boardInviteItem,n=t.board,a=void 0===n?{}:n,o=t.invited_user,s=void 0===o?{}:o;r.setState({isAcceptButtonLoading:e,isIgnoreButtonLoading:!e});var i={board_id:a.id,invited_user_id:s.id},l=y["default"].create("BoardInviteResource",i);(e?l.callUpdate():l.callDelete()).then(function(){r.setState({boardInviteAccepted:e,boardInvitePending:!1,isAcceptButtonLoading:!1,isIgnoreButtonLoading:!1})})},s=n,o(r,s)}return s(t,e),t.prototype.getBoardRep=function n(e,t){return l["default"].createElement("div",{className:"leftObjectWrapper boardRepWrapper"},l["default"].createElement("div",{className:"Image Module boardMessageRep"},l["default"].createElement("div",{className:"heightContainer"},l["default"].createElement("img",{alt:e,src:t}))))},t.prototype.getBoardInfo=function r(e,t){return l["default"].createElement("a",{href:t},l["default"].createElement("div",{className:e},e))},t.prototype.getInviteeInfo=function i(e){var t=e.full_name;return l["default"].createElement("div",{className:"inviterLine"},(0,g.safeFormat)(m["default"]._("{{ fullName }} invited you to this board"),{fullName:t}))},t.prototype.renderPendingLayout=function u(e,t){var n=this,r=e.image_thumbnail_url,a=e.name,o=e.url;return l["default"].createElement("div",{className:"pending"},l["default"].createElement("div",{className:"left"},this.getBoardRep(a,r),l["default"].createElement("div",{className:"description"},this.getBoardInfo(a,o),this.getInviteeInfo(t))),l["default"].createElement("div",{className:"actions"},l["default"].createElement(c["default"],{className:"remove",loading:this.state.isIgnoreButtonLoading,onClick:function s(){return n.handleInviteResponse(!1)},text:m["default"]._("Ignore","ignore board invite")}),l["default"].createElement(c["default"],{className:(0,d["default"])("primary","accept"),loading:this.state.isAcceptButtonLoading,onClick:function i(){return n.handleInviteResponse(!0)},text:m["default"]._("Accept","accept board invite")})))},t.prototype.renderCompletedLayout=function p(e){var t=e.image_thumbnail_url,n=e.name,r=e.url;return l["default"].createElement("div",{className:"success displayed"},l["default"].createElement("div",{className:"left"},this.getBoardRep(n,t),l["default"].createElement("div",{className:"description"},this.getBoardInfo(n,r),l["default"].createElement("div",{className:"inviterLine"},m["default"]._("You joined this board","board invites")))))},t.prototype.render=function f(){if(!this.state.boardInvitePending&&!this.state.boardInviteAccepted)return null;var e=this.props.boardInviteItem,t=e.board,n=e.invited_by_user;return l["default"].createElement("div",{className:"BoardInvite Module news"},this.state.boardInvitePending?this.renderPendingLayout(t,n):this.renderCompletedLayout(t))},t}(i.Component);v.propTypes={boardInviteItem:i.PropTypes.shape({board:i.PropTypes.shape({image_thumbnail_url:i.PropTypes.string,name:i.PropTypes.string,url:i.PropTypes.string}).isRequired,invited_by_user:i.PropTypes.shape({full_name:i.PropTypes.string,username:i.PropTypes.string}).isRequired,invited_user:i.PropTypes.shape({id:i.PropTypes.string}).isRequired})},t["default"]=v},3668:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.boardInvites;return t?s["default"].createElement("div",null,t.map(function(e){return s["default"].createElement(l["default"],{boardInviteItem:e,key:e.id})})):null}t.__esModule=!0;var o=n(1),s=r(o),i=n(3667),l=r(i),u=n(22),c=r(u);a.propTypes={boardInvites:o.PropTypes.arrayOf(o.PropTypes.shape({board:o.PropTypes.shape({image_thumbnail_url:o.PropTypes.string,name:o.PropTypes.string,url:o.PropTypes.string}),id:o.PropTypes.string.isRequired,invited_by_user:o.PropTypes.shape({full_name:o.PropTypes.string,username:o.PropTypes.string}),invited_user:o.PropTypes.shape({id:o.PropTypes.string})}))},t["default"]=(0,c["default"])({name:"BoardInvitesResource",key:"boardInvites",options:{current_user:!0,field_set_key:"news"}})(a)},3669:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.contactItem,n=e.currentUserID,r=e.conversationItem,a=e.handleContactWrapperClick,o=e.isSelected,i=e.isUser,l=["selectionIndicator","contactCircleRep","selectionIndicator"];return s["default"].createElement("a",{className:"conversationContactContainer",key:r.id,onClick:function u(){return a(i,t)},onKeyDown:function c(){},role:"button",tabIndex:0},p(n,r),o?s["default"].createElement("div",{className:l.join(" ")},s["default"].createElement("em",null)):null)}t.__esModule=!0,t["default"]=a;var o=n(1),s=r(o),i=n(3240),l=r(i),u=n(4),c=r(u),p=function d(e,t){var n=t.emails,r=t.users,a=function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0!==e.length){var t=e[0];return s["default"].createElement("div",{className:"contactWrapper"},s["default"].createElement(l["default"],{emails:[t],size:"small"}),s["default"].createElement("div",{className:"contactTextInfo"},s["default"].createElement("span",{className:"contactName"},t),s["default"].createElement("span",{className:"contactDescription"},c["default"]._("Email friend","on selected contact list"))))}},o=function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t[0].id===e?t[1]:t[0],r=n.full_name;return s["default"].createElement("div",{className:"contactWrapper"},s["default"].createElement(l["default"],{size:"small",users:[n]}),s["default"].createElement("div",{className:"contactTextInfo"},s["default"].createElement("span",{className:"contactName"},r),s["default"].createElement("span",{className:"contactDescription"},c["default"]._("On Pinterest","info about a contact"))))};return s["default"].createElement("div",null,n.length>0?a(n):o(r))};a.defaultProps={isSelected:!1},a.propTypes={contactItem:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.shape({first_name:o.PropTypes.string,full_name:o.PropTypes.string,id:o.PropTypes.string,image_large_url:o.PropTypes.string,is_default_image:o.PropTypes.bool,username:o.PropTypes.string})]),conversationItem:o.PropTypes.shape({board:o.PropTypes.shape({image_thumbnail_url:o.PropTypes.string,name:o.PropTypes.string,url:o.PropTypes.string}),emails:o.PropTypes.arrayOf(o.PropTypes.string),id:o.PropTypes.string.isRequired,last_message:o.PropTypes.shape({board:o.PropTypes.shape({}),created_at:o.PropTypes.string,pin:o.PropTypes.shape({}),sender:o.PropTypes.shape({first_name:o.PropTypes.string,id:o.PropTypes.string}),text:o.PropTypes.string,user:o.PropTypes.shape({})}),name:o.PropTypes.string,unread:o.PropTypes.number.isRequired,users:o.PropTypes.arrayOf(o.PropTypes.shape({first_name:o.PropTypes.string,full_name:o.PropTypes.string,id:o.PropTypes.string,image_large_url:o.PropTypes.string,is_default_image:o.PropTypes.bool,username:o.PropTypes.string}))}).isRequired,currentUserID:o.PropTypes.string.isRequired,handleContactWrapperClick:o.PropTypes.func.isRequired,isSelected:o.PropTypes.bool,isUser:o.PropTypes.bool.isRequired}},3670:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.tokenizedItems;return s["default"].createElement("div",{className:"reactTokenizedInputContainer",style:{zIndex:1e3}},s["default"].createElement("div",{className:"tokenContainer"},t.map(function(e,t){return s["default"].createElement("div",{className:"tokenItem",key:t},e.full_name?s["default"].createElement(l["default"],{size:"small",users:[e]}):s["default"].createElement(l["default"],{emails:[e],size:"small"}))})),s["default"].createElement("div",{className:"textFieldContainer"}))}t.__esModule=!0,t["default"]=a;var o=n(1),s=r(o),i=n(3240),l=r(i)},3671:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.ConversationsPanel=void 0;var i=n(1),l=r(i),u=n(14),c=r(u),p=n(3664),d=r(p),f=n(3665),m=r(f),h=n(3666),y=r(h),g=n(4),v=r(g),b=n(3668),_=r(b),T=n(5),P=r(T),E=n(140),C=r(E),w=n(3658),I=r(w),N=n(20),O=r(N),S=500,R="existingConversationsView",k="newMessageView",x="contactRequestsView",M=t.ConversationsPanel=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.state={bookmarks:null,conversationItems:[],conversationItemsHaveFetched:!1,fetching:!1,currentView:R},r.onhandleCancelSecondaryView=function(){r.setState({currentView:R})},r.handleNewMessageButtonClick=function(){r.setState({currentView:k}),r.logNewMessageButtonClick()},r.handleViewContactRequestsClick=function(){r.setState({currentView:x})},r.handleScroll=function(){if(!r.state.fetching){var e=r._container&&r._container.scrollHeight-r._container.scrollTop-r._container.clientHeight;S>e&&r.fetchMore()}},r.logNewMessageButtonClick=function(){var e=r.props.contextLog;e(101,{component:54,element:275})},r.updateWithConversationResponse=function(e){var t=e.resource_response.data;r.setState({bookmarks:e.bookmarks,conversationItems:r.state.conversationItems.concat(t),conversationItemsHaveFetched:!0,fetching:!1})},s=n,o(r,s)}return s(t,e),t.prototype.componentDidMount=function n(){this._container.addEventListener("scroll",this.handleScroll),this.setState({fetching:!0}),P["default"].create("ConversationsResource").callGet({showError:!1}).then(this.updateWithConversationResponse)},t.prototype.componentWillUnmount=function r(){this._container.removeEventListener("scroll",this.handleScroll)},t.prototype.fetchMore=function i(){if(!this.state.fetching){this.setState({fetching:!0});var e=P["default"].create("ConversationsResource",{bookmarks:this.state.bookmarks});return e.atEnd()?(this._container.removeEventListener("scroll",this.handleScroll),void this.setState({fetching:!1})):void e.callGet({showError:!1}).then(this.updateWithConversationResponse)}},t.prototype.renderNewMessageView=function u(){return l["default"].createElement("div",{className:"newMessageContainer"},l["default"].createElement(y["default"],{conversationItems:this.state.conversationItems,handleCancelNewMessageClick:this.onhandleCancelSecondaryView}))},t.prototype.renderContactRequestsView=function p(){return l["default"].createElement("div",{className:"contactRequestsContainer"},l["default"].createElement(d["default"],{handleCancelViewContactRequests:this.onhandleCancelSecondaryView}))},t.prototype.renderEmptyMessagesNewMessageUpsell=function f(){return l["default"].createElement("div",{className:"EmptyConversations Module"},l["default"].createElement("div",{className:"icon"}),l["default"].createElement("div",{className:"intro"},l["default"].createElement("div",null,v["default"]._("Send messages to your friends!")),l["default"].createElement("div",null,v["default"]._("Plan projects, swap ideas and share your best discoveries."))))},t.prototype.renderExistingConversationsView=function h(){var e=this.state,t=e.conversationItems,n=e.conversationItemsHaveFetched;return l["default"].createElement("div",{className:"existingConversationsContainer"},l["default"].createElement("div",{className:"newMessageButtonContainer"},l["default"].createElement(c["default"],{className:"createConversationTab",hasIcon:!0,onClick:this.handleNewMessageButtonClick,text:v["default"]._("New message"),type:"borderless"})),l["default"].createElement("div",{className:"viewContactRequestsButtonContainer"},l["default"].createElement(I["default"],{onClick:this.handleViewContactRequestsClick})),l["default"].createElement("div",{className:"existingConversationItemsWrapper"},l["default"].createElement("div",{className:"boardInvitesContainer"},l["default"].createElement(_["default"],null)),l["default"].createElement("ul",{className:"conversationItems"},0===t.length&&n?this.renderEmptyMessagesNewMessageUpsell():t.map(function(e){return l["default"].createElement("li",{className:"conversationItemWrapper",key:e.id},l["default"].createElement(m["default"],{data:e}))}))))},t.prototype.renderMessageView=function g(){switch(this.state.currentView){case R:return this.renderExistingConversationsView();case k:return this.renderNewMessageView();case x:return this.renderContactRequestsView()}},t.prototype.render=function b(){var e=this;return l["default"].createElement(C["default"],{view:42,viewParameter:203,isSurface:!0},l["default"].createElement("div",{className:"conversationPanel",ref:function t(n){e._container=n}},this.renderMessageView()))},t}(i.Component);M.propTypes={contextLog:i.PropTypes.func.isRequired},t["default"]=(0,O["default"])(M)},3672:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.ITEM_DIM=void 0;var i=n(1),l=r(i),u=n(7),c=r(u),p=n(12),d={BOARD:"board",PIN:"pin",USER:"user"},f="100x",m="136x136",h=t.ITEM_DIM=69,y=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.getRowElements=function n(){var e=this.props.previewItems,t=this.context.userAgent.isMobile,n=new Set,r=t?3:4;return[].concat(e).splice(0,r).map(function(e,t){var r=e.description,a=e.full_name,o=e.id,s=e.image_large_url,i=e.image_signature,u=e.image_thumbnail_urls,y=e.images,g=e.name,v=e.type,b=i||o;if(b&&n.has(b))return null;n.add(b);var _=void 0,T=void 0,P=void 0;switch(v){case d.PIN:_=r,T=(y[m]||{}).url,P="rounded";break;case d.BOARD:_=g,T=(u||{})[f],P="rounded";break;case d.USER:_=a,T=s,P="circle"}return l["default"].createElement("span",{className:"newsHubRowItem",key:t},l["default"].createElement("div",{className:(0,c["default"])({whiteBorderOnHover:v===d.BOARD})},l["default"].createElement(p.Mask,{height:h,shape:P,width:h},l["default"].createElement(p.Image,{alt:_,color:"#efefef",height:h,src:T,width:h}))))})},t.prototype.render=function r(){var e=this.props.previewItemCount,t=this.getRowElements(),n=Math.min(e-t.length,99),r=l["default"].createElement("span",{className:"newsHubRowItem"},l["default"].createElement("div",{className:"newsHubPreviewNumber rounded whiteOnHover"},l["default"].createElement(p.Text,{align:"center",size:"sm"},"+"+n)));return l["default"].createElement("div",{className:"newsHubPreviewRow"},l["default"].createElement("div",{className:"newsHubRowWithCount"},t,e-t.length>0?r:null))},t}(i.Component);y.propTypes={previewItemCount:i.PropTypes.number,previewItems:i.PropTypes.arrayOf(i.PropTypes.shape({description:i.PropTypes.string,full_name:i.PropTypes.string,id:i.PropTypes.string,image_large_url:i.PropTypes.string,image_thumbnail_urls:i.PropTypes.shape({"100x":i.PropTypes.string}),image_signature:i.PropTypes.string,images:i.PropTypes.shape({"136x136":i.PropTypes.shape({url:i.PropTypes.string})}),type:i.PropTypes.string.isRequired}))},y.contextTypes={userAgent:i.PropTypes.shape({isMobile:i.PropTypes.bool.isRequired})},t["default"]=y},3673:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.EDUCATION_STEP=void 0;var i=n(1),l=r(i),u=n(7),c=r(u),p=t.EDUCATION_STEP={ONE:1,TWO:2,END:3},d=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.state={educationStep:p.ONE},r.toStepTwo=function(){r.setState({educationStep:p.TWO})},r.dismissEducation=function(){var e=r.props.handleDismiss;r.setState({educationStep:p.END}),e()},s=n,o(r,s)}return s(t,e),t.prototype.componentDidMount=function n(){var e=this,t=this.props.stepDelay;this.educationStepTimer=setTimeout(function(){e.state.educationStep<p.TWO&&e.setState({educationStep:p.TWO})},t)},t.prototype.componentWillUnmount=function r(){clearTimeout(this.educationStepTimer)},t.prototype.renderPill=function i(e,t,n){return l["default"].createElement("button",{onClick:n,className:(0,c["default"])("educationPill","slideIn",{fadeOut:t})},l["default"].createElement("div",{className:"message"},e))},t.prototype.render=function u(){var e=this.state.educationStep,t=this.props,n=t.titleText,r=t.titleText2,a=this.renderPill(n,e===p.TWO,this.toStepTwo),o=this.renderPill(r,e===p.END,this.dismissEducation);return l["default"].createElement("div",{className:"newsHubEducation"},l["default"].createElement("div",{className:"educationStep stepOne"},(e===p.ONE||e===p.TWO)&&a),l["default"].createElement("div",{className:"educationStep stepTwo bottom"},(e===p.TWO||e===p.END)&&o))},t}(i.Component);d.propTypes={handleDismiss:i.PropTypes.func.isRequired,stepDelay:i.PropTypes.number.isRequired,titleText:i.PropTypes.string.isRequired,titleText2:i.PropTypes.string.isRequired},t["default"]=d},3674:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.HeaderIcon=void 0;var i=n(1),l=r(i),u=n(17),c=n(98),p=r(c),d=n(12),f=t.HeaderIcon=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.handleHeaderIconClick=function(e){r.props.dispatch((0,p["default"])(101,{objectId:r.props.id,view:107,viewParameter:3081,element:1187}))},s=n,o(r,s)}return s(t,e),t.prototype.render=function n(){var e=this.props,t=e.headerIconImageUrl,n=e.headerIconObjects,r=void 0;return t?r=l["default"].createElement("img",{className:"headerIconImage whiteOnHover",role:"presentation",src:t}):n&&(r=[].concat(n).splice(0,3).map(function(e,t){return l["default"].createElement("div",{className:"headerIcon",key:t},l["default"].createElement("img",{alt:e.full_name,className:"headerIconImage",src:e.image_large_url}))})),l["default"].createElement("div",{className:"newsHubHeaderIcon",onClick:this.handleHeaderIconClick,role:"log"},l["default"].createElement(d.Mask,{shape:"circle"},l["default"].createElement("div",{className:"headerIcons"},r)))},t}(i.Component);f.propTypes={dispatch:i.PropTypes.func.isRequired,headerIconImageUrl:i.PropTypes.string,headerIconObjects:i.PropTypes.arrayOf(i.PropTypes.shape({full_name:i.PropTypes.string,image_large_url:i.PropTypes.string})),id:i.PropTypes.string.isRequired},t["default"]=(0,u.connect)()(f)},3675:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.alt,n=e.numPins,r=e.height,a=e.imageUrl,o=e.pinWidth,i=e.recentPins,p=(0,l["default"])(n).map(function(e){var t={backgroundImage:i[e]?"url("+i[e].url+")":"",height:r,width:o};return s["default"].createElement("span",{className:"pinImage whiteOnHover",key:e,style:t})});return s["default"].createElement("span",{className:"librofile"},s["default"].createElement("div",{className:"pinImages rounded",style:{height:r}},p),s["default"].createElement("div",{className:"profileImage circle"},s["default"].createElement(u.Mask,{height:c,shape:"circle",width:c},s["default"].createElement("img",{alt:t,src:a}))))}t.__esModule=!0,t["default"]=a;var o=n(1),s=r(o),i=n(2148),l=r(i),u=n(12),c=40;a.propTypes={alt:o.PropTypes.string.isRequired,height:o.PropTypes.number.isRequired,imageUrl:o.PropTypes.string.isRequired,numPins:o.PropTypes.number.isRequired,pinWidth:o.PropTypes.number.isRequired,recentPins:o.PropTypes.arrayOf(o.PropTypes.shape({url:o.PropTypes.string})).isRequired,type:o.PropTypes.string.isRequired,width:o.PropTypes.number.isRequired}},3676:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.ListItem=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(17),p=n(3672),d=r(p),f=n(9),m=r(f),h=n(98),y=r(h),g=n(7),v=r(g),b=n(3674),_=r(b),T=n(3677),P=r(T),E=n(37),C=r(E),w=n(3679),I=r(w),N=n(3680),O=r(N),S={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,GRID:3,MINI_PIN_GRID:4,CAROUSEL:5,LIST:6,TWO_ROW_WITH_COUNT:7,NO_ICON_TEXT:8,NO_ICON_ROW_WITH_COUNT:9},R=t.ListItem=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.handleContentTextClick=function(e){r.props.dispatch((0,y["default"])(101,{objectId:r.props.id,view:107,viewParameter:3081,element:1189}))},r.handleHeaderTextClick=function(e){r.props.dispatch((0,y["default"])(101,{objectId:r.props.id,view:107,viewParameter:3081,element:1188}))},r.handleItemClick=function(e){(e.target.className.includes("newsHubItem")||e.target.className.includes("newsHubCell"))&&r.props.dispatch((0,y["default"])(101,{objectId:r.props.id,view:107,viewParameter:3081,element:1194})),r.props.handleClick()},s=n,o(r,s)}return s(t,e),t.prototype.canBeSupportedByDisplayModes=function n(e,t){return t.some(function(t){return e&1<<t})},t.prototype.render=function r(){var e=this.props,t=e.displayMode,n=e.headerIconImageUrl,r=e.headerIconObjects,a=e.headerText,o=e.id,s=e.overrideClickUrl,i=this.canBeSupportedByDisplayModes(t,[S.NO_ICON_TEXT,S.NO_ICON_ROW_WITH_COUNT]),l=s||"/news-hub/"+o,c=m["default"].GEN.templateConst.settings.CANONICAL_MAIN_URL+l,p=this.displayComponent,d=this.miniPreviewRow;return u["default"].createElement(C["default"],{className:(0,v["default"])("newsHubItem",{newsHubV3:i}),to:c,onClick:this.handleItemClick},u["default"].createElement("div",null,!i&&u["default"].createElement(_["default"],{headerIconImageUrl:n,headerIconObjects:r,id:o}),u["default"].createElement("div",{className:"newsHubCell"},!i&&d,u["default"].createElement("div",{className:"newsMessage",onClick:this.handleHeaderTextClick,role:"log"},u["default"].createElement("span",{dangerouslySetInnerHTML:{__html:a}})),p)))},i(t,[{key:"displayComponent",get:function l(){var e=this.props,t=e.contentItemCount,n=e.contentItems,r=e.contentText,a=e.displayMode,o=n.filter(function(e){var t=e.content_object;return t}).map(function(e){var t=e.content_object;return t});return this.canBeSupportedByDisplayModes(a,[S.NO_ICON_ROW_WITH_COUNT])?u["default"].createElement(d["default"],{previewItemCount:t,previewItems:o}):this.canBeSupportedByDisplayModes(a,[S.BASIC])?null:this.canBeSupportedByDisplayModes(a,[S.TEXT])?u["default"].createElement("div",{className:"newsText",onClick:this.handleContentTextClick,role:"log"},r):this.canBeSupportedByDisplayModes(a,[S.ROW_WITH_COUNT,S.CAROUSEL,S.TWO_ROW_WITH_COUNT])?u["default"].createElement(O["default"],{id:this.props.id,previewItemCount:t,previewItems:o}):this.canBeSupportedByDisplayModes(a,[S.MINI_PIN_GRID])?u["default"].createElement(I["default"],{id:this.props.id,pins:o}):void 0}},{key:"miniPreviewRow",get:function c(){var e=this.props,t=e.contentItems,n=e.displayMode,r=e.uniqueActionObjectCount;if(this.canBeSupportedByDisplayModes(n,[S.TWO_ROW_WITH_COUNT])){var a=t.filter(function(e){var t=e.action_object;return t}).map(function(e){var t=e.action_object;return t});return u["default"].createElement(P["default"],{previewItemCount:r,previewItems:a})}}}]),t}(l.Component);R.propTypes={contentItemCount:l.PropTypes.number,contentItems:l.PropTypes.arrayOf(l.PropTypes.object),contentText:l.PropTypes.string,dispatch:l.PropTypes.func.isRequired,displayMode:l.PropTypes.number.isRequired,handleClick:l.PropTypes.func,headerIconImageUrl:l.PropTypes.string,headerIconObjects:l.PropTypes.arrayOf(l.PropTypes.shape({description:l.PropTypes.string,full_name:l.PropTypes.string,image_cover_url:l.PropTypes.string,images:l.PropTypes.shape({"136x136":l.PropTypes.shape({url:l.PropTypes.string})}),name:l.PropTypes.string,type:l.PropTypes.string.isRequired})),headerText:l.PropTypes.string,id:l.PropTypes.string.isRequired,lastUpdatedAt:l.PropTypes.string.isRequired,overrideClickUrl:l.PropTypes.string,subHeaderText:l.PropTypes.string,type:l.PropTypes.string.isRequired,uniqueActionObjectCount:l.PropTypes.number},R.defaultProps={handleClick:function k(){}},t["default"]=(0,c.connect)()(R)},3677:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.ROW_WIDTH=t.PIN_WIDTH=t.PIN_HEIGHT=t.BOARD_DIMENSION=void 0;var i=n(1),l=r(i),u=n(3659),c=r(u),p=t.BOARD_DIMENSION=60,d=t.PIN_HEIGHT=63,f=t.PIN_WIDTH=40,m=t.ROW_WIDTH=275,h={
BOARD:"board",PIN:"pin"},y="136x136",g=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.transformPreviewItems=function n(){for(var e=this.props.previewItems,t=new Set,n=[],r=e,a=Array.isArray(r),o=0,r=a?r:r[Symbol.iterator]();;){var s;if(a){if(o>=r.length)break;s=r[o++]}else{if(o=r.next(),o.done)break;s=o.value}var i=s,l=i.description,u=i.id,c=i.image_cover_url,m=i.image_signature,g=i.images,v=i.name,b=i.type;b===h.PIN?t.has(m)||(t.add(m),n.push({alt:l,type:b,imageUrl:(g[y]||{}).url,width:f,height:d})):b===h.BOARD&&(t.has(u)||(t.add(u),n.push({alt:v,type:b,imageUrl:c,width:p,height:p})))}return n},t.prototype.render=function r(){var e=this.props.previewItemCount,t=this.transformPreviewItems();return l["default"].createElement("div",{className:"newsMiniRowWithCount"},l["default"].createElement(c["default"],{maxWidth:m,previewItemCount:e,previewItems:t}))},t}(i.Component);g.propTypes={previewItemCount:i.PropTypes.number,previewItems:i.PropTypes.arrayOf(i.PropTypes.shape({description:i.PropTypes.string,id:i.PropTypes.string,image_signature:i.PropTypes.string,image_thumbnail_urls:i.PropTypes.shape({"100x":i.PropTypes.string}),images:i.PropTypes.shape({"136x136":i.PropTypes.shape({url:i.PropTypes.string})}),name:i.PropTypes.string,type:i.PropTypes.string.isRequired}))},t["default"]=g},3678:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n=e.dispatch,r=e.experience,a=Object.assign({},e);return r&&Object.assign(a,(0,T["default"])(r.display_data),{handleComplete:function o(){return n((0,R.completeExperience)(r.placement_id,r.experience_id))},handleDismiss:function s(){return n((0,R.dismissExperience)(r.placement_id,r.experience_id))}}),u["default"].createElement(M,a)}t.__esModule=!0,t.NewsHubPanel=void 0;var l=n(1),u=r(l),c=n(3673),p=r(c),d=n(3676),f=r(d),m=n(76),h=r(m),y=n(1975),g=r(y),v=n(140),b=r(v),_=n(208),T=r(_),P=n(20),E=r(P),C=n(180),w=r(C),I=n(30),N=n(80),O=n(6),S=r(O),R=n(95),k=4,x=864e5,M=t.NewsHubPanel=function(e){function t(n){a(this,t);var r=o(this,e.call(this,n));return r.state={shouldEducate:!1},r.onDataFetched=function(e){e>k&&!r.state.shouldEducate&&r.setState({shouldEducate:!0})},r.handleItemClick=function(){r.props.handleComplete(),r.props.handleItemClick()},r.renderItem=function(e,t){return u["default"].createElement("li",{className:"newsHubItemWrapper",key:t},r.renderDate(e.last_updated_at,t),u["default"].createElement(f["default"],{contentItemCount:e.content_item_count,contentItems:e.content_items,contentText:e.content_text,displayMode:e.encoded_display_mode,handleClick:r.handleItemClick,headerIconImageUrl:e.header_icon_image_url,headerIconObjects:e.header_icon_objects,headerText:e.header_text,id:e.id,lastUpdatedAt:e.last_updated_at,overrideClickUrl:e.override_click_url,subHeaderText:e.sub_header_text,type:e.type,uniqueActionObjectCount:e.unique_action_object_count}))},r.renderEmptyState=function(){var e=r.props.i18n;return u["default"].createElement("div",{className:"emptyPanel"},u["default"].createElement("div",{className:"emptyStateMessage"},e._("New! Discover ideas from your friends, followers and people who love your Pins!")))},r.currentDay=null,r.today=new Date,r.today.setHours(0,0,0,0),r}return s(t,e),t.prototype.getChildContext=function n(){return{preloadingSupported:!0}},t.prototype.componentDidMount=function r(){var e=this.props,t=e.dispatch,n=e.experience;n&&t((0,R.viewExperience)(n.placement_id,n.experience_id)),this.logPanelImpression()},t.prototype.logPanelImpression=function i(){var e=this.props.contextLog;e(13,{view:107,viewParameter:3081})},t.prototype.renderDate=function l(e,t){var n=this.props.i18n,r=new Date(e);if(r.setHours(0,0,0,0),0!==t&&this.currentDay&&r.getTime()===this.currentDay.getTime())return null;this.currentDay=r;var a=void 0;return r.getTime()===this.today.getTime()?a=n._("Today"):r.getTime()===new Date(this.today-x).getTime()?a=n._("Yesterday"):r>=new Date(this.today-6*x)?a=n.getHumanizedTimesince(r.getTime()):(a=h["default"].formatDate(this.props.locale,r,h["default"].DateFormatType.MONTH_DAY,!1),"ja"===this.props.locale&&(a=a.replace("月月","月")+"日")),u["default"].createElement("div",{className:"newsHubItemDate"},a)},t.prototype.render=function c(){var e=this.props,t=e.handleDismiss,n=e.stepDelay,r=e.titleText,a=e.titleText2,o=this.state.shouldEducate,s=o&&r&&a;return u["default"].createElement(b["default"],{view:107,viewParameter:3081,isSurface:!0},u["default"].createElement("div",null,s&&u["default"].createElement(p["default"],{handleDismiss:t,stepDelay:n,titleText:r,titleText2:a}),u["default"].createElement(g["default"],{className:"newsHubPanel",onDataFetched:this.onDataFetched,renderEmptyState:this.renderEmptyState,renderItem:this.renderItem,resourceName:"NewsHubResource"})))},t}(l.Component);M.propTypes={contextLog:l.PropTypes.func.isRequired,dispatch:l.PropTypes.func.isRequired,experience:l.PropTypes.shape(N.ExperienceProps),handleComplete:l.PropTypes.func,handleDismiss:l.PropTypes.func,handleItemClick:l.PropTypes.func,i18n:O.I18nPropType.isRequired,locale:l.PropTypes.string.isRequired,stepDelay:l.PropTypes.number,titleText:l.PropTypes.string,titleText2:l.PropTypes.string},M.defaultProps={handleComplete:function q(){},handleItemClick:function B(){}},M.childContextTypes={preloadingSupported:l.PropTypes.bool.isRequired},t["default"]=(0,I.compose)((0,w["default"])(1000035),E["default"],S["default"])(i)},3679:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.PinGrid=void 0;var i=n(1),l=r(i),u=n(17),c=n(98),p=r(c),d=t.PinGrid=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.handlePinGridClick=function(e){r.props.dispatch((0,p["default"])(101,{objectId:r.props.id,view:107,viewParameter:3081,element:1191}))},s=n,o(r,s)}return s(t,e),t.prototype.getImageFromPin=function n(e){return e&&e.images&&e.images["290x"]?{backgroundImage:"url("+e.images["290x"].url+")"}:null},t.prototype.render=function r(){var e=this,t=[0,3,1,4,2,5];return l["default"].createElement("div",{className:"newsHubPinGrid",onClick:this.handlePinGridClick,role:"log"},t.map(function(t){return l["default"].createElement("div",{className:"pinItem whiteOnHover",key:t,style:e.getImageFromPin(e.props.pins[t])})}))},t}(i.Component);d.propTypes={dispatch:i.PropTypes.func.isRequired,id:i.PropTypes.string.isRequired,pins:i.PropTypes.arrayOf(i.PropTypes.shape({type:i.PropTypes.string.isRequired,description:i.PropTypes.string,images:i.PropTypes.shape({"290x":i.PropTypes.shape({url:i.PropTypes.string})}).isRequired})).isRequired},t["default"]=(0,u.connect)()(d)},3680:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.PreviewRow=t.USER_WIDTH=t.LIBROFILE_PIN_WIDTH=t.ROW_WIDTH=t.PIN_WIDTH=t.ITEM_HEIGHT=t.BOARD_WIDTH=void 0;var i=n(1),l=r(i),u=n(17),c=n(98),p=r(c),d=n(3659),f=r(d),m=t.BOARD_WIDTH=82,h=t.ITEM_HEIGHT=82,y=t.PIN_WIDTH=52,g=t.ROW_WIDTH=320,v=3,b=t.LIBROFILE_PIN_WIDTH=40,_=2,T=t.USER_WIDTH=b*v+_*(v-1),P={BOARD:"board",PIN:"pin",USER:"user"},E="100x",C="136x136",w="200x",I=t.PreviewRow=function(e){function t(){var n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;i>u;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.handleRowClick=function(e){r.props.dispatch((0,p["default"])(101,{objectId:r.props.id,view:107,viewParameter:3081,element:1193}))},s=n,o(r,s)}return s(t,e),t.prototype.transformPreviewItems=function n(){var e=this.props.previewItems;return e.map(function(e){var t=e.description,n=e.full_name,r=e.image_large_url,a=e.image_thumbnail_urls,o=e.images,s=e.name,i=e.recent_pin_images,l=e.type;switch(l){case P.PIN:return{alt:t,type:l,imageUrl:(o[C]||{}).url,width:y,height:h};case P.BOARD:return{alt:s,type:l,imageUrl:(a||{})[E],width:m,height:h};case P.USER:return{alt:n,type:l,imageUrl:r,recentPins:i[w]||[],numPins:v,pinWidth:b,width:T,height:h}}})},t.prototype.render=function r(){var e=this.props.previewItemCount,t=this.transformPreviewItems();return l["default"].createElement("div",{className:"newsHubPreviewRow",onClick:this.handleRowClick,role:"log"},l["default"].createElement(f["default"],{maxWidth:g,previewItemCount:e,previewItems:t}))},t}(i.Component);I.propTypes={dispatch:i.PropTypes.func.isRequired,id:i.PropTypes.string.isRequired,previewItemCount:i.PropTypes.number.isRequired,previewItems:i.PropTypes.arrayOf(i.PropTypes.shape({description:i.PropTypes.string,full_name:i.PropTypes.string,type:i.PropTypes.string.isRequired,image_large_url:i.PropTypes.string,image_thumbnail_urls:i.PropTypes.shape({"100x":i.PropTypes.string}),images:i.PropTypes.shape({"136x136":i.PropTypes.shape({url:i.PropTypes.string})}),recent_pin_images:i.PropTypes.shape({"200x":i.PropTypes.arrayOf(i.PropTypes.shape({url:i.PropTypes.string}))})}))},t["default"]=(0,u.connect)()(I)},3696:function(e,t,n){t=e.exports=n(32)(),t.push([e.id,"._1mN_2 {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    padding: 10px;\n}\n\n._3b2sr {\n    background: #f1f1f1;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 10px;\n}\n\n._1zZTh {\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n    color: #b5b5b5;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    padding-right: 10px;\n}\n\n.ClU2f {\n    font-size: 14px;\n}\n\n._1UOMX {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n        -ms-flex-positive: 1;\n            flex-grow: 1;\n    position: relative;\n}\n",""]),t.locals={conversationsGroupHeader:"_1mN_2",conversationGroupTokenizedWrapper:"_3b2sr",tokenizedWrapperTitle:"_1zZTh",newMessageTitle:"ClU2f",socialTypeaheadContainer:"_1UOMX"}},3771:function(e,t){function n(e,t,n,r){for(var a=n-1,o=e.length;++a<o;)if(r(e[a],t))return a;return-1}e.exports=n},3772:function(e,t,n){function r(e,t,n,r){var u=r?s:o,p=-1,d=t.length,f=e;for(e===t&&(t=l(t)),n&&(f=a(e,i(n)));++p<d;)for(var m=0,h=t[p],y=n?n(h):h;(m=u(f,y,m,r))>-1;)f!==e&&c.call(f,m,1),c.call(e,m,1);return e}var a=n(81),o=n(364),s=n(3771),i=n(148),l=n(199),u=Array.prototype,c=u.splice;e.exports=r},3773:function(e,t,n){var r=n(72),a=n(3774),o=r(a);e.exports=o},3774:function(e,t,n){function r(e,t){return e&&e.length&&t&&t.length?a(e,t):e}var a=n(3772);e.exports=r},3779:function(e,t,n){var r=n(3696);"string"==typeof r&&(r=[[e.id,r,""]]);var a=n(33)(r,{});r.locals&&(e.exports=r.locals)}});